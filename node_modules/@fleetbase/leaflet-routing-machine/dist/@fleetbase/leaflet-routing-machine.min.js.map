{"version":3,"file":"leaflet-routing-machine.min.js","sources":["../../src/localization.js","../../src/formatter.js","../../src/itinerary-builder.js","../../src/itinerary.js","../../src/line.js","../../src/autocomplete.js","../../src/geocoder-element.js","../../src/waypoint.js","../../src/plan.js","../../src/osrm-v1.js","../../src/control.js","../../src/mapbox.js","../../src/error-control.js","../../src/index.js"],"sourcesContent":["/* \n   NOTICE\n   Since version 3.2.5, the functionality in this file is by\n   default NOT used for localizing OSRM instructions.\n   Instead, we rely on the module osrm-text-instructions (https://github.com/Project-OSRM/osrm-text-instructions/).\n   \n   This file can still be used for other routing backends, or if you specify the\n   stepToText option in the OSRMv1 class.\n*/\n\nconst spanish = {\n    directions: {\n        N: 'norte',\n        NE: 'noreste',\n        E: 'este',\n        SE: 'sureste',\n        S: 'sur',\n        SW: 'suroeste',\n        W: 'oeste',\n        NW: 'noroeste',\n        SlightRight: 'leve giro a la derecha',\n        Right: 'derecha',\n        SharpRight: 'giro pronunciado a la derecha',\n        SlightLeft: 'leve giro a la izquierda',\n        Left: 'izquierda',\n        SharpLeft: 'giro pronunciado a la izquierda',\n        Uturn: 'media vuelta',\n    },\n    instructions: {\n        // instruction, postfix if the road is named\n        Head: ['Derecho {dir}', ' sobre {road}'],\n        Continue: ['Continuar {dir}', ' en {road}'],\n        TurnAround: ['Dar vuelta'],\n        WaypointReached: ['Llegó a un punto del camino'],\n        Roundabout: ['Tomar {exitStr} salida en la rotonda', ' en {road}'],\n        DestinationReached: ['Llegada a destino'],\n        Fork: ['En el cruce gira a {modifier}', ' hacia {road}'],\n        Merge: ['Incorpórate {modifier}', ' hacia {road}'],\n        OnRamp: ['Gira {modifier} en la salida', ' hacia {road}'],\n        OffRamp: ['Toma la salida {modifier}', ' hacia {road}'],\n        EndOfRoad: ['Gira {modifier} al final de la carretera', ' hacia {road}'],\n        Onto: 'hacia {road}',\n    },\n    formatOrder: function (n) {\n        return n + 'º';\n    },\n    ui: {\n        startPlaceholder: 'Inicio',\n        viaPlaceholder: 'Via {viaNumber}',\n        endPlaceholder: 'Destino',\n    },\n    units: {\n        meters: 'm',\n        kilometers: 'km',\n        yards: 'yd',\n        miles: 'mi',\n        hours: 'h',\n        minutes: 'min',\n        seconds: 's',\n    },\n};\n\nconst Localization = L.Class.extend({\n    initialize: function (langs) {\n        this._langs = L.Util.isArray(langs) ? langs.slice() : [langs, 'en'];\n\n        for (var i = 0, l = this._langs.length; i < l; i++) {\n            var generalizedCode = /([A-Za-z]+)/.exec(this._langs[i])[1];\n            if (!Localization[this._langs[i]]) {\n                if (Localization[generalizedCode]) {\n                    this._langs[i] = generalizedCode;\n                } else {\n                    throw new Error('No localization for language \"' + this._langs[i] + '\".');\n                }\n            }\n        }\n    },\n\n    localize: function (keys) {\n        var dict, key, value;\n\n        keys = L.Util.isArray(keys) ? keys : [keys];\n\n        for (var i = 0, l = this._langs.length; i < l; i++) {\n            dict = Localization[this._langs[i]];\n            for (var j = 0, nKeys = keys.length; dict && j < nKeys; j++) {\n                key = keys[j];\n                value = dict[key];\n                dict = value;\n            }\n\n            if (value) {\n                return value;\n            }\n        }\n    },\n});\n\nexport { spanish, Localization as BaseLocalization };\n\nexport default L.extend(Localization, {\n    en: {\n        directions: {\n            N: 'north',\n            NE: 'northeast',\n            E: 'east',\n            SE: 'southeast',\n            S: 'south',\n            SW: 'southwest',\n            W: 'west',\n            NW: 'northwest',\n            SlightRight: 'slight right',\n            Right: 'right',\n            SharpRight: 'sharp right',\n            SlightLeft: 'slight left',\n            Left: 'left',\n            SharpLeft: 'sharp left',\n            Uturn: 'Turn around',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Head {dir}', ' on {road}'],\n            Continue: ['Continue {dir}'],\n            TurnAround: ['Turn around'],\n            WaypointReached: ['Waypoint reached'],\n            Roundabout: ['Take the {exitStr} exit in the roundabout', ' onto {road}'],\n            DestinationReached: ['Destination reached'],\n            Fork: ['At the fork, turn {modifier}', ' onto {road}'],\n            Merge: ['Merge {modifier}', ' onto {road}'],\n            OnRamp: ['Turn {modifier} on the ramp', ' onto {road}'],\n            OffRamp: ['Take the ramp on the {modifier}', ' onto {road}'],\n            EndOfRoad: ['Turn {modifier} at the end of the road', ' onto {road}'],\n            Onto: 'onto {road}',\n        },\n        formatOrder: function (n) {\n            var i = (n % 10) - 1,\n                suffix = ['st', 'nd', 'rd'];\n\n            return suffix[i] ? n + suffix[i] : n + 'th';\n        },\n        ui: {\n            startPlaceholder: 'Start',\n            viaPlaceholder: 'Via {viaNumber}',\n            endPlaceholder: 'End',\n        },\n        units: {\n            meters: 'm',\n            kilometers: 'km',\n            yards: 'yd',\n            miles: 'mi',\n            hours: 'h',\n            minutes: 'min',\n            seconds: 's',\n        },\n    },\n\n    de: {\n        directions: {\n            N: 'Norden',\n            NE: 'Nordosten',\n            E: 'Osten',\n            SE: 'Südosten',\n            S: 'Süden',\n            SW: 'Südwesten',\n            W: 'Westen',\n            NW: 'Nordwesten',\n            SlightRight: 'leicht rechts',\n            Right: 'rechts',\n            SharpRight: 'scharf rechts',\n            SlightLeft: 'leicht links',\n            Left: 'links',\n            SharpLeft: 'scharf links',\n            Uturn: 'Wenden',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Richtung {dir}', ' auf {road}'],\n            Continue: ['Geradeaus Richtung {dir}', ' auf {road}'],\n            SlightRight: ['Leicht rechts abbiegen', ' auf {road}'],\n            Right: ['Rechts abbiegen', ' auf {road}'],\n            SharpRight: ['Scharf rechts abbiegen', ' auf {road}'],\n            TurnAround: ['Wenden'],\n            SharpLeft: ['Scharf links abbiegen', ' auf {road}'],\n            Left: ['Links abbiegen', ' auf {road}'],\n            SlightLeft: ['Leicht links abbiegen', ' auf {road}'],\n            WaypointReached: ['Zwischenhalt erreicht'],\n            Roundabout: ['Nehmen Sie die {exitStr} Ausfahrt im Kreisverkehr', ' auf {road}'],\n            DestinationReached: ['Sie haben ihr Ziel erreicht'],\n            Fork: ['An der Kreuzung {modifier}', ' auf {road}'],\n            Merge: ['Fahren Sie {modifier} weiter', ' auf {road}'],\n            OnRamp: ['Fahren Sie {modifier} auf die Auffahrt', ' auf {road}'],\n            OffRamp: ['Nehmen Sie die Ausfahrt {modifier}', ' auf {road}'],\n            EndOfRoad: ['Fahren Sie {modifier} am Ende der Straße', ' auf {road}'],\n            Onto: 'auf {road}',\n        },\n        formatOrder: function (n) {\n            return n + '.';\n        },\n        ui: {\n            startPlaceholder: 'Start',\n            viaPlaceholder: 'Via {viaNumber}',\n            endPlaceholder: 'Ziel',\n        },\n    },\n\n    sv: {\n        directions: {\n            N: 'norr',\n            NE: 'nordost',\n            E: 'öst',\n            SE: 'sydost',\n            S: 'syd',\n            SW: 'sydväst',\n            W: 'väst',\n            NW: 'nordväst',\n            SlightRight: 'svagt höger',\n            Right: 'höger',\n            SharpRight: 'skarpt höger',\n            SlightLeft: 'svagt vänster',\n            Left: 'vänster',\n            SharpLeft: 'skarpt vänster',\n            Uturn: 'Vänd',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Åk åt {dir}', ' till {road}'],\n            Continue: ['Fortsätt {dir}'],\n            SlightRight: ['Svagt höger', ' till {road}'],\n            Right: ['Sväng höger', ' till {road}'],\n            SharpRight: ['Skarpt höger', ' till {road}'],\n            TurnAround: ['Vänd'],\n            SharpLeft: ['Skarpt vänster', ' till {road}'],\n            Left: ['Sväng vänster', ' till {road}'],\n            SlightLeft: ['Svagt vänster', ' till {road}'],\n            WaypointReached: ['Viapunkt nådd'],\n            Roundabout: ['Tag {exitStr} avfarten i rondellen', ' till {road}'],\n            DestinationReached: ['Framme vid resans mål'],\n            Fork: ['Tag av {modifier}', ' till {road}'],\n            Merge: ['Anslut {modifier} ', ' till {road}'],\n            OnRamp: ['Tag påfarten {modifier}', ' till {road}'],\n            OffRamp: ['Tag avfarten {modifier}', ' till {road}'],\n            EndOfRoad: ['Sväng {modifier} vid vägens slut', ' till {road}'],\n            Onto: 'till {road}',\n        },\n        formatOrder: function (n) {\n            return [\n                'första',\n                'andra',\n                'tredje',\n                'fjärde',\n                'femte',\n                'sjätte',\n                'sjunde',\n                'åttonde',\n                'nionde',\n                'tionde',\n                /* Can't possibly be more than ten exits, can there? */\n            ][n - 1];\n        },\n        ui: {\n            startPlaceholder: 'Från',\n            viaPlaceholder: 'Via {viaNumber}',\n            endPlaceholder: 'Till',\n        },\n    },\n\n    es: spanish,\n    sp: spanish,\n\n    nl: {\n        directions: {\n            N: 'noordelijke',\n            NE: 'noordoostelijke',\n            E: 'oostelijke',\n            SE: 'zuidoostelijke',\n            S: 'zuidelijke',\n            SW: 'zuidewestelijke',\n            W: 'westelijke',\n            NW: 'noordwestelijke',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Vertrek in {dir} richting', ' de {road} op'],\n            Continue: ['Ga in {dir} richting', ' de {road} op'],\n            SlightRight: ['Volg de weg naar rechts', ' de {road} op'],\n            Right: ['Ga rechtsaf', ' de {road} op'],\n            SharpRight: ['Ga scherpe bocht naar rechts', ' de {road} op'],\n            TurnAround: ['Keer om'],\n            SharpLeft: ['Ga scherpe bocht naar links', ' de {road} op'],\n            Left: ['Ga linksaf', ' de {road} op'],\n            SlightLeft: ['Volg de weg naar links', ' de {road} op'],\n            WaypointReached: ['Aangekomen bij tussenpunt'],\n            Roundabout: ['Neem de {exitStr} afslag op de rotonde', ' de {road} op'],\n            DestinationReached: ['Aangekomen op eindpunt'],\n        },\n        formatOrder: function (n) {\n            if (n === 1 || n >= 20) {\n                return n + 'ste';\n            } else {\n                return n + 'de';\n            }\n        },\n        ui: {\n            startPlaceholder: 'Vertrekpunt',\n            viaPlaceholder: 'Via {viaNumber}',\n            endPlaceholder: 'Bestemming',\n        },\n    },\n    fr: {\n        directions: {\n            N: 'nord',\n            NE: 'nord-est',\n            E: 'est',\n            SE: 'sud-est',\n            S: 'sud',\n            SW: 'sud-ouest',\n            W: 'ouest',\n            NW: 'nord-ouest',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Tout droit au {dir}', ' sur {road}'],\n            Continue: ['Continuer au {dir}', ' sur {road}'],\n            SlightRight: ['Légèrement à droite', ' sur {road}'],\n            Right: ['A droite', ' sur {road}'],\n            SharpRight: ['Complètement à droite', ' sur {road}'],\n            TurnAround: ['Faire demi-tour'],\n            SharpLeft: ['Complètement à gauche', ' sur {road}'],\n            Left: ['A gauche', ' sur {road}'],\n            SlightLeft: ['Légèrement à gauche', ' sur {road}'],\n            WaypointReached: [\"Point d'étape atteint\"],\n            Roundabout: ['Au rond-point, prenez la {exitStr} sortie', ' sur {road}'],\n            DestinationReached: ['Destination atteinte'],\n        },\n        formatOrder: function (n) {\n            return n + 'º';\n        },\n        ui: {\n            startPlaceholder: 'Départ',\n            viaPlaceholder: 'Intermédiaire {viaNumber}',\n            endPlaceholder: 'Arrivée',\n        },\n    },\n    it: {\n        directions: {\n            N: 'nord',\n            NE: 'nord-est',\n            E: 'est',\n            SE: 'sud-est',\n            S: 'sud',\n            SW: 'sud-ovest',\n            W: 'ovest',\n            NW: 'nord-ovest',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Dritto verso {dir}', ' su {road}'],\n            Continue: ['Continuare verso {dir}', ' su {road}'],\n            SlightRight: ['Mantenere la destra', ' su {road}'],\n            Right: ['A destra', ' su {road}'],\n            SharpRight: ['Strettamente a destra', ' su {road}'],\n            TurnAround: ['Fare inversione di marcia'],\n            SharpLeft: ['Strettamente a sinistra', ' su {road}'],\n            Left: ['A sinistra', ' sur {road}'],\n            SlightLeft: ['Mantenere la sinistra', ' su {road}'],\n            WaypointReached: ['Punto di passaggio raggiunto'],\n            Roundabout: ['Alla rotonda, prendere la {exitStr} uscita'],\n            DestinationReached: ['Destinazione raggiunta'],\n        },\n        formatOrder: function (n) {\n            return n + 'º';\n        },\n        ui: {\n            startPlaceholder: 'Partenza',\n            viaPlaceholder: 'Intermedia {viaNumber}',\n            endPlaceholder: 'Destinazione',\n        },\n    },\n    pt: {\n        directions: {\n            N: 'norte',\n            NE: 'nordeste',\n            E: 'leste',\n            SE: 'sudeste',\n            S: 'sul',\n            SW: 'sudoeste',\n            W: 'oeste',\n            NW: 'noroeste',\n            SlightRight: 'curva ligeira a direita',\n            Right: 'direita',\n            SharpRight: 'curva fechada a direita',\n            SlightLeft: 'ligeira a esquerda',\n            Left: 'esquerda',\n            SharpLeft: 'curva fechada a esquerda',\n            Uturn: 'Meia volta',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Siga {dir}', ' na {road}'],\n            Continue: ['Continue {dir}', ' na {road}'],\n            SlightRight: ['Curva ligeira a direita', ' na {road}'],\n            Right: ['Curva a direita', ' na {road}'],\n            SharpRight: ['Curva fechada a direita', ' na {road}'],\n            TurnAround: ['Retorne'],\n            SharpLeft: ['Curva fechada a esquerda', ' na {road}'],\n            Left: ['Curva a esquerda', ' na {road}'],\n            SlightLeft: ['Curva ligueira a esquerda', ' na {road}'],\n            WaypointReached: ['Ponto de interesse atingido'],\n            Roundabout: ['Pegue a {exitStr} saída na rotatória', ' na {road}'],\n            DestinationReached: ['Destino atingido'],\n            Fork: ['Na encruzilhada, vire a {modifier}', ' na {road}'],\n            Merge: ['Entre à {modifier}', ' na {road}'],\n            OnRamp: ['Vire {modifier} na rampa', ' na {road}'],\n            OffRamp: ['Entre na rampa na {modifier}', ' na {road}'],\n            EndOfRoad: ['Vire {modifier} no fim da rua', ' na {road}'],\n            Onto: 'na {road}',\n        },\n        formatOrder: function (n) {\n            return n + 'º';\n        },\n        ui: {\n            startPlaceholder: 'Origem',\n            viaPlaceholder: 'Intermédio {viaNumber}',\n            endPlaceholder: 'Destino',\n        },\n    },\n    sk: {\n        directions: {\n            N: 'sever',\n            NE: 'serverovýchod',\n            E: 'východ',\n            SE: 'juhovýchod',\n            S: 'juh',\n            SW: 'juhozápad',\n            W: 'západ',\n            NW: 'serverozápad',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Mierte na {dir}', ' na {road}'],\n            Continue: ['Pokračujte na {dir}', ' na {road}'],\n            SlightRight: ['Mierne doprava', ' na {road}'],\n            Right: ['Doprava', ' na {road}'],\n            SharpRight: ['Prudko doprava', ' na {road}'],\n            TurnAround: ['Otočte sa'],\n            SharpLeft: ['Prudko doľava', ' na {road}'],\n            Left: ['Doľava', ' na {road}'],\n            SlightLeft: ['Mierne doľava', ' na {road}'],\n            WaypointReached: ['Ste v prejazdovom bode.'],\n            Roundabout: ['Odbočte na {exitStr} výjazde', ' na {road}'],\n            DestinationReached: ['Prišli ste do cieľa.'],\n        },\n        formatOrder: function (n) {\n            var i = (n % 10) - 1,\n                suffix = ['.', '.', '.'];\n\n            return suffix[i] ? n + suffix[i] : n + '.';\n        },\n        ui: {\n            startPlaceholder: 'Začiatok',\n            viaPlaceholder: 'Cez {viaNumber}',\n            endPlaceholder: 'Koniec',\n        },\n    },\n    el: {\n        directions: {\n            N: 'βόρεια',\n            NE: 'βορειοανατολικά',\n            E: 'ανατολικά',\n            SE: 'νοτιοανατολικά',\n            S: 'νότια',\n            SW: 'νοτιοδυτικά',\n            W: 'δυτικά',\n            NW: 'βορειοδυτικά',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Κατευθυνθείτε {dir}', ' στην {road}'],\n            Continue: ['Συνεχίστε {dir}', ' στην {road}'],\n            SlightRight: ['Ελαφρώς δεξιά', ' στην {road}'],\n            Right: ['Δεξιά', ' στην {road}'],\n            SharpRight: ['Απότομη δεξιά στροφή', ' στην {road}'],\n            TurnAround: ['Κάντε αναστροφή'],\n            SharpLeft: ['Απότομη αριστερή στροφή', ' στην {road}'],\n            Left: ['Αριστερά', ' στην {road}'],\n            SlightLeft: ['Ελαφρώς αριστερά', ' στην {road}'],\n            WaypointReached: ['Φτάσατε στο σημείο αναφοράς'],\n            Roundabout: ['Ακολουθήστε την {exitStr} έξοδο στο κυκλικό κόμβο', ' στην {road}'],\n            DestinationReached: ['Φτάσατε στον προορισμό σας'],\n        },\n        formatOrder: function (n) {\n            return n + 'º';\n        },\n        ui: {\n            startPlaceholder: 'Αφετηρία',\n            viaPlaceholder: 'μέσω {viaNumber}',\n            endPlaceholder: 'Προορισμός',\n        },\n    },\n    ca: {\n        directions: {\n            N: 'nord',\n            NE: 'nord-est',\n            E: 'est',\n            SE: 'sud-est',\n            S: 'sud',\n            SW: 'sud-oest',\n            W: 'oest',\n            NW: 'nord-oest',\n            SlightRight: 'lleu gir a la dreta',\n            Right: 'dreta',\n            SharpRight: 'gir pronunciat a la dreta',\n            SlightLeft: \"gir pronunciat a l'esquerra\",\n            Left: 'esquerra',\n            SharpLeft: \"lleu gir a l'esquerra\",\n            Uturn: 'mitja volta',\n        },\n        instructions: {\n            Head: ['Recte {dir}', ' sobre {road}'],\n            Continue: ['Continuar {dir}'],\n            TurnAround: ['Donar la volta'],\n            WaypointReached: ['Ha arribat a un punt del camí'],\n            Roundabout: ['Agafar {exitStr} sortida a la rotonda', ' a {road}'],\n            DestinationReached: ['Arribada al destí'],\n            Fork: ['A la cruïlla gira a la {modifier}', ' cap a {road}'],\n            Merge: [\"Incorpora't {modifier}\", ' a {road}'],\n            OnRamp: ['Gira {modifier} a la sortida', ' cap a {road}'],\n            OffRamp: ['Pren la sortida {modifier}', ' cap a {road}'],\n            EndOfRoad: ['Gira {modifier} al final de la carretera', ' cap a {road}'],\n            Onto: 'cap a {road}',\n        },\n        formatOrder: function (n) {\n            return n + 'º';\n        },\n        ui: {\n            startPlaceholder: 'Origen',\n            viaPlaceholder: 'Via {viaNumber}',\n            endPlaceholder: 'Destí',\n        },\n        units: {\n            meters: 'm',\n            kilometers: 'km',\n            yards: 'yd',\n            miles: 'mi',\n            hours: 'h',\n            minutes: 'min',\n            seconds: 's',\n        },\n    },\n    ru: {\n        directions: {\n            N: 'север',\n            NE: 'северовосток',\n            E: 'восток',\n            SE: 'юговосток',\n            S: 'юг',\n            SW: 'югозапад',\n            W: 'запад',\n            NW: 'северозапад',\n            SlightRight: 'плавно направо',\n            Right: 'направо',\n            SharpRight: 'резко направо',\n            SlightLeft: 'плавно налево',\n            Left: 'налево',\n            SharpLeft: 'резко налево',\n            Uturn: 'развернуться',\n        },\n        instructions: {\n            Head: ['Начать движение на {dir}', ' по {road}'],\n            Continue: ['Продолжать движение на {dir}', ' по {road}'],\n            SlightRight: ['Плавный поворот направо', ' на {road}'],\n            Right: ['Направо', ' на {road}'],\n            SharpRight: ['Резкий поворот направо', ' на {road}'],\n            TurnAround: ['Развернуться'],\n            SharpLeft: ['Резкий поворот налево', ' на {road}'],\n            Left: ['Поворот налево', ' на {road}'],\n            SlightLeft: ['Плавный поворот налево', ' на {road}'],\n            WaypointReached: ['Точка достигнута'],\n            Roundabout: ['{exitStr} съезд с кольца', ' на {road}'],\n            DestinationReached: ['Окончание маршрута'],\n            Fork: ['На развилке поверните {modifier}', ' на {road}'],\n            Merge: ['Перестройтесь {modifier}', ' на {road}'],\n            OnRamp: ['Поверните {modifier} на съезд', ' на {road}'],\n            OffRamp: ['Съезжайте на {modifier}', ' на {road}'],\n            EndOfRoad: ['Поверните {modifier} в конце дороги', ' на {road}'],\n            Onto: 'на {road}',\n        },\n        formatOrder: function (n) {\n            return n + '-й';\n        },\n        ui: {\n            startPlaceholder: 'Начало',\n            viaPlaceholder: 'Через {viaNumber}',\n            endPlaceholder: 'Конец',\n        },\n        units: {\n            meters: 'м',\n            kilometers: 'км',\n            yards: 'ярд',\n            miles: 'ми',\n            hours: 'ч',\n            minutes: 'м',\n            seconds: 'с',\n        },\n    },\n\n    pl: {\n        directions: {\n            N: 'północ',\n            NE: 'północny wschód',\n            E: 'wschód',\n            SE: 'południowy wschód',\n            S: 'południe',\n            SW: 'południowy zachód',\n            W: 'zachód',\n            NW: 'północny zachód',\n            SlightRight: 'lekko w prawo',\n            Right: 'w prawo',\n            SharpRight: 'ostro w prawo',\n            SlightLeft: 'lekko w lewo',\n            Left: 'w lewo',\n            SharpLeft: 'ostro w lewo',\n            Uturn: 'zawróć',\n        },\n        instructions: {\n            // instruction, postfix if the road is named\n            Head: ['Kieruj się na {dir}', ' na {road}'],\n            Continue: ['Jedź dalej przez {dir}'],\n            TurnAround: ['Zawróć'],\n            WaypointReached: ['Punkt pośredni'],\n            Roundabout: ['Wyjedź {exitStr} zjazdem na rondzie', ' na {road}'],\n            DestinationReached: ['Dojechano do miejsca docelowego'],\n            Fork: ['Na rozwidleniu {modifier}', ' na {road}'],\n            Merge: ['Zjedź {modifier}', ' na {road}'],\n            OnRamp: ['Wjazd {modifier}', ' na {road}'],\n            OffRamp: ['Zjazd {modifier}', ' na {road}'],\n            EndOfRoad: ['Skręć {modifier} na końcu drogi', ' na {road}'],\n            Onto: 'na {road}',\n        },\n        formatOrder: function (n) {\n            return n + '.';\n        },\n        ui: {\n            startPlaceholder: 'Początek',\n            viaPlaceholder: 'Przez {viaNumber}',\n            endPlaceholder: 'Koniec',\n        },\n        units: {\n            meters: 'm',\n            kilometers: 'km',\n            yards: 'yd',\n            miles: 'mi',\n            hours: 'godz',\n            minutes: 'min',\n            seconds: 's',\n        },\n    },\n    uk: {\n        directions: {\n            N: 'північ',\n            NE: 'північний схід',\n            E: 'схід',\n            SE: 'південний схід',\n            S: 'південь',\n            SW: 'південний захід',\n            W: 'захід',\n            NW: 'північний захід',\n            SlightRight: 'плавно направо',\n            Right: 'направо',\n            SharpRight: 'різко направо',\n            SlightLeft: 'плавно наліво',\n            Left: 'наліво',\n            SharpLeft: 'різко наліво',\n            Uturn: 'розвернутися',\n        },\n        instructions: {\n            Head: ['Почати рух на {dir}', 'по {road}'],\n            Continue: ['Продовжувати рух на {dir}', 'по {road}'],\n            SlightRight: ['Плавний поворот направо', 'на {road}'],\n            Right: ['Направо', 'на {road}'],\n            SharpRight: ['Різкий поворот направо', 'на {road}'],\n            TurnAround: ['Розгорнутися'],\n            SharpLeft: ['Різкий поворот наліво', 'на {road}'],\n            Left: ['Поворот наліво', 'на {road}'],\n            SlightLeft: ['Плавний поворот наліво', 'на {road}'],\n            WaypointReached: ['Точка досягнута'],\n            Roundabout: [\"{ExitStr} з'їзд з кільця\", 'на {road}'],\n            DestinationReached: ['Закінчення маршруту'],\n            Fork: ['На розвилці поверніть {modifier}', 'на {road}'],\n            Merge: ['Візьміть {modifier}', 'на {road}'],\n            OnRamp: [\"Поверніть {modifier} на з'їзд\", 'на {road}'],\n            OffRamp: [\"З'їжджайте на {modifier}\", 'на {road}'],\n            EndOfRoad: ['Поверніть {modifier} в кінці дороги', 'на {road}'],\n            Onto: 'на {road}',\n        },\n        formatOrder: function (n) {\n            return n + '-й';\n        },\n        ui: {\n            startPlaceholder: 'Початок',\n            viaPlaceholder: 'Через {viaNumber}',\n            endPlaceholder: 'Кінець',\n        },\n        units: {\n            meters: 'м',\n            kilometers: 'км',\n            yards: 'ярд',\n            miles: 'ми',\n            hours: 'г',\n            minutes: 'хв',\n            seconds: 'сек',\n        },\n    },\n});\n","import Localization from './localization';\n\nexport default L.Class.extend({\n    options: {\n        units: 'metric',\n        unitNames: null,\n        language: 'en',\n        roundingSensitivity: 1,\n        distanceTemplate: '{value} {unit}',\n    },\n\n    initialize: function (options) {\n        L.setOptions(this, options);\n\n        var langs = L.Util.isArray(this.options.language) ? this.options.language : [this.options.language, 'en'];\n        this._localization = new Localization(langs);\n    },\n\n    formatDistance: function (d /* Number (meters) */, sensitivity) {\n        var un = this.options.unitNames || this._localization.localize('units'),\n            simpleRounding = sensitivity <= 0,\n            round = simpleRounding\n                ? function (v) {\n                      return v;\n                  }\n                : L.bind(this._round, this),\n            v,\n            yards,\n            data,\n            pow10;\n\n        if (this.options.units === 'imperial') {\n            yards = d / 0.9144;\n            if (yards >= 1000) {\n                data = {\n                    value: round(d / 1609.344, sensitivity),\n                    unit: un.miles,\n                };\n            } else {\n                data = {\n                    value: round(yards, sensitivity),\n                    unit: un.yards,\n                };\n            }\n        } else {\n            v = round(d, sensitivity);\n            data = {\n                value: v >= 1000 ? v / 1000 : v,\n                unit: v >= 1000 ? un.kilometers : un.meters,\n            };\n        }\n\n        if (simpleRounding) {\n            data.value = data.value.toFixed(-sensitivity);\n        }\n\n        return L.Util.template(this.options.distanceTemplate, data);\n    },\n\n    _round: function (d, sensitivity) {\n        var s = sensitivity || this.options.roundingSensitivity,\n            pow10 = Math.pow(10, (Math.floor(d / s) + '').length - 1),\n            r = Math.floor(d / pow10),\n            p = r > 5 ? pow10 : pow10 / 2;\n\n        return Math.round(d / p) * p;\n    },\n\n    formatTime: function (t /* Number (seconds) */) {\n        var un = this.options.unitNames || this._localization.localize('units');\n        // More than 30 seconds precision looks ridiculous\n        t = Math.round(t / 30) * 30;\n\n        if (t > 86400) {\n            return Math.round(t / 3600) + ' ' + un.hours;\n        } else if (t > 3600) {\n            return Math.floor(t / 3600) + ' ' + un.hours + ' ' + Math.round((t % 3600) / 60) + ' ' + un.minutes;\n        } else if (t > 300) {\n            return Math.round(t / 60) + ' ' + un.minutes;\n        } else if (t > 60) {\n            return Math.floor(t / 60) + ' ' + un.minutes + (t % 60 !== 0 ? ' ' + (t % 60) + ' ' + un.seconds : '');\n        } else {\n            return t + ' ' + un.seconds;\n        }\n    },\n\n    formatInstruction: function (instr, i) {\n        if (instr.text === undefined) {\n            return this.capitalize(\n                L.Util.template(\n                    this._getInstructionTemplate(instr, i),\n                    L.extend({}, instr, {\n                        exitStr: instr.exit ? this._localization.localize('formatOrder')(instr.exit) : '',\n                        dir: this._localization.localize(['directions', instr.direction]),\n                        modifier: this._localization.localize(['directions', instr.modifier]),\n                    })\n                )\n            );\n        } else {\n            return instr.text;\n        }\n    },\n\n    getIconName: function (instr, i) {\n        switch (instr.type) {\n            case 'Head':\n                if (i === 0) {\n                    return 'depart';\n                }\n                break;\n            case 'WaypointReached':\n                return 'via';\n            case 'Roundabout':\n                return 'enter-roundabout';\n            case 'DestinationReached':\n                return 'arrive';\n        }\n\n        switch (instr.modifier) {\n            case 'Straight':\n                return 'continue';\n            case 'SlightRight':\n                return 'bear-right';\n            case 'Right':\n                return 'turn-right';\n            case 'SharpRight':\n                return 'sharp-right';\n            case 'TurnAround':\n            case 'Uturn':\n                return 'u-turn';\n            case 'SharpLeft':\n                return 'sharp-left';\n            case 'Left':\n                return 'turn-left';\n            case 'SlightLeft':\n                return 'bear-left';\n        }\n    },\n\n    capitalize: function (s) {\n        return s.charAt(0).toUpperCase() + s.substring(1);\n    },\n\n    _getInstructionTemplate: function (instr, i) {\n        var type = instr.type === 'Straight' ? (i === 0 ? 'Head' : 'Continue') : instr.type,\n            strings = this._localization.localize(['instructions', type]);\n\n        if (!strings) {\n            strings = [this._localization.localize(['directions', type]), ' ' + this._localization.localize(['instructions', 'Onto'])];\n        }\n\n        return strings[0] + (strings.length > 1 && instr.road ? strings[1] : '');\n    },\n});\n","export default L.Class.extend({\n    options: {\n        containerClassName: '',\n    },\n\n    initialize: function (options) {\n        L.setOptions(this, options);\n    },\n\n    createContainer: function (className) {\n        var table = L.DomUtil.create('table', (className || '') + ' ' + this.options.containerClassName),\n            colgroup = L.DomUtil.create('colgroup', '', table);\n\n        L.DomUtil.create('col', 'leaflet-routing-instruction-icon', colgroup);\n        L.DomUtil.create('col', 'leaflet-routing-instruction-text', colgroup);\n        L.DomUtil.create('col', 'leaflet-routing-instruction-distance', colgroup);\n\n        return table;\n    },\n\n    createStepsContainer: function () {\n        return L.DomUtil.create('tbody', '');\n    },\n\n    createStep: function (text, distance, icon, steps) {\n        var row = L.DomUtil.create('tr', '', steps),\n            span,\n            td;\n        td = L.DomUtil.create('td', '', row);\n        span = L.DomUtil.create('span', 'leaflet-routing-icon leaflet-routing-icon-' + icon, td);\n        td.appendChild(span);\n        td = L.DomUtil.create('td', '', row);\n        td.appendChild(document.createTextNode(text));\n        td = L.DomUtil.create('td', '', row);\n        td.appendChild(document.createTextNode(distance));\n        return row;\n    },\n});\n","import Formatter from './formatter';\nimport ItineraryBuilder from './itinerary-builder';\n\nexport default L.Control.extend({\n    includes: (typeof L.Evented !== 'undefined' && L.Evented.prototype) || L.Mixin.Events,\n\n    options: {\n        pointMarkerStyle: {\n            radius: 5,\n            color: '#03f',\n            fillColor: 'white',\n            opacity: 1,\n            fillOpacity: 0.7,\n        },\n        summaryTemplate: '<h2>{name}</h2><h3>{distance}, {time}</h3>',\n        timeTemplate: '{time}',\n        containerClassName: '',\n        alternativeClassName: '',\n        minimizedClassName: '',\n        itineraryClassName: '',\n        totalDistanceRoundingSensitivity: -1,\n        show: true,\n        collapsible: undefined,\n        collapseBtn: function (itinerary) {\n            var collapseBtn = L.DomUtil.create('span', itinerary.options.collapseBtnClass);\n            L.DomEvent.on(collapseBtn, 'click', itinerary._toggle, itinerary);\n            itinerary._container.insertBefore(collapseBtn, itinerary._container.firstChild);\n        },\n        collapseBtnClass: 'leaflet-routing-collapse-btn',\n    },\n\n    initialize: function (options) {\n        L.setOptions(this, options);\n        this._formatter = this.options.formatter || new Formatter(this.options);\n        this._itineraryBuilder =\n            this.options.itineraryBuilder ||\n            new ItineraryBuilder({\n                containerClassName: this.options.itineraryClassName,\n            });\n    },\n\n    onAdd: function (map) {\n        var collapsible = this.options.collapsible;\n\n        collapsible = collapsible || (collapsible === undefined && map.getSize().x <= 640);\n\n        this._container = L.DomUtil.create(\n            'div',\n            'leaflet-routing-container leaflet-bar ' +\n                (!this.options.show ? 'leaflet-routing-container-hide ' : '') +\n                (collapsible ? 'leaflet-routing-collapsible ' : '') +\n                this.options.containerClassName\n        );\n        this._altContainer = this.createAlternativesContainer();\n        this._container.appendChild(this._altContainer);\n        L.DomEvent.disableClickPropagation(this._container);\n        L.DomEvent.addListener(this._container, 'mousewheel', function (e) {\n            L.DomEvent.stopPropagation(e);\n        });\n\n        if (collapsible) {\n            this.options.collapseBtn(this);\n        }\n\n        return this._container;\n    },\n\n    onRemove: function () {},\n\n    createAlternativesContainer: function () {\n        return L.DomUtil.create('div', 'leaflet-routing-alternatives-container');\n    },\n\n    setAlternatives: function (routes) {\n        var i, alt, altDiv;\n\n        this._clearAlts();\n\n        this._routes = routes;\n\n        for (i = 0; i < this._routes.length; i++) {\n            alt = this._routes[i];\n            altDiv = this._createAlternative(alt, i);\n            this._altContainer.appendChild(altDiv);\n            this._altElements.push(altDiv);\n        }\n\n        this._selectRoute({ route: this._routes[0], alternatives: this._routes.slice(1) });\n\n        return this;\n    },\n\n    show: function () {\n        L.DomUtil.removeClass(this._container, 'leaflet-routing-container-hide');\n    },\n\n    hide: function () {\n        L.DomUtil.addClass(this._container, 'leaflet-routing-container-hide');\n    },\n\n    _toggle: function () {\n        var collapsed = L.DomUtil.hasClass(this._container, 'leaflet-routing-container-hide');\n        this[collapsed ? 'show' : 'hide']();\n    },\n\n    _createAlternative: function (alt, i) {\n        var altDiv = L.DomUtil.create('div', 'leaflet-routing-alt ' + this.options.alternativeClassName + (i > 0 ? ' leaflet-routing-alt-minimized ' + this.options.minimizedClassName : '')),\n            template = this.options.summaryTemplate,\n            data = L.extend(\n                {\n                    name: alt.name,\n                    distance: this._formatter.formatDistance(alt.summary.totalDistance, this.options.totalDistanceRoundingSensitivity),\n                    time: this._formatter.formatTime(alt.summary.totalTime),\n                },\n                alt\n            );\n        altDiv.innerHTML = typeof template === 'function' ? template(data) : L.Util.template(template, data);\n        L.DomEvent.addListener(altDiv, 'click', this._onAltClicked, this);\n        this.on('routeselected', this._selectAlt, this);\n\n        altDiv.appendChild(this._createItineraryContainer(alt));\n        return altDiv;\n    },\n\n    _clearAlts: function () {\n        var el = this._altContainer;\n        while (el && el.firstChild) {\n            el.removeChild(el.firstChild);\n        }\n\n        this._altElements = [];\n    },\n\n    _createItineraryContainer: function (r) {\n        var container = this._itineraryBuilder.createContainer(),\n            steps = this._itineraryBuilder.createStepsContainer(),\n            i,\n            instr,\n            step,\n            distance,\n            text,\n            icon;\n\n        container.appendChild(steps);\n\n        for (i = 0; i < r.instructions.length; i++) {\n            instr = r.instructions[i];\n            text = this._formatter.formatInstruction(instr, i);\n            distance = this._formatter.formatDistance(instr.distance);\n            icon = this._formatter.getIconName(instr, i);\n            step = this._itineraryBuilder.createStep(text, distance, icon, steps);\n\n            if (instr.index) {\n                this._addRowListeners(step, r.coordinates[instr.index]);\n            }\n        }\n\n        return container;\n    },\n\n    _addRowListeners: function (row, coordinate) {\n        L.DomEvent.addListener(\n            row,\n            'mouseover',\n            function () {\n                this._marker = L.circleMarker(coordinate, this.options.pointMarkerStyle).addTo(this._map);\n            },\n            this\n        );\n        L.DomEvent.addListener(\n            row,\n            'mouseout',\n            function () {\n                if (this._marker) {\n                    this._map.removeLayer(this._marker);\n                    delete this._marker;\n                }\n            },\n            this\n        );\n        L.DomEvent.addListener(\n            row,\n            'click',\n            function (e) {\n                this._map.panTo(coordinate);\n                L.DomEvent.stopPropagation(e);\n            },\n            this\n        );\n    },\n\n    _onAltClicked: function (e) {\n        var altElem = e.target || window.event.srcElement;\n        while (!L.DomUtil.hasClass(altElem, 'leaflet-routing-alt')) {\n            altElem = altElem.parentElement;\n        }\n\n        var j = this._altElements.indexOf(altElem);\n        var alts = this._routes.slice();\n        var route = alts.splice(j, 1)[0];\n\n        this.fire('routeselected', {\n            route: route,\n            alternatives: alts,\n        });\n    },\n\n    _selectAlt: function (e) {\n        var altElem, j, n, classFn;\n\n        altElem = this._altElements[e.route.routesIndex];\n\n        if (L.DomUtil.hasClass(altElem, 'leaflet-routing-alt-minimized')) {\n            for (j = 0; j < this._altElements.length; j++) {\n                n = this._altElements[j];\n                classFn = j === e.route.routesIndex ? 'removeClass' : 'addClass';\n                L.DomUtil[classFn](n, 'leaflet-routing-alt-minimized');\n                if (this.options.minimizedClassName) {\n                    L.DomUtil[classFn](n, this.options.minimizedClassName);\n                }\n\n                if (j !== e.route.routesIndex) n.scrollTop = 0;\n            }\n        }\n\n        L.DomEvent.stop(e);\n    },\n\n    _selectRoute: function (routes) {\n        if (this._marker) {\n            this._map.removeLayer(this._marker);\n            delete this._marker;\n        }\n        this.fire('routeselected', routes);\n    },\n});\n","export default L.LayerGroup.extend({\n    includes: (typeof L.Evented !== 'undefined' && L.Evented.prototype) || L.Mixin.Events,\n\n    options: {\n        styles: [\n            { color: 'black', opacity: 0.15, weight: 9 },\n            { color: 'white', opacity: 0.8, weight: 6 },\n            { color: 'red', opacity: 1, weight: 2 },\n        ],\n        missingRouteStyles: [\n            { color: 'black', opacity: 0.15, weight: 7 },\n            { color: 'white', opacity: 0.6, weight: 4 },\n            { color: 'gray', opacity: 0.8, weight: 2, dashArray: '7,12' },\n        ],\n        addWaypoints: true,\n        extendToWaypoints: true,\n        missingRouteTolerance: 10,\n    },\n\n    initialize: function (route, options) {\n        L.setOptions(this, options);\n        L.LayerGroup.prototype.initialize.call(this, options);\n        this._route = route;\n\n        if (this.options.extendToWaypoints) {\n            this._extendToWaypoints();\n        }\n\n        this._addSegment(route.coordinates, this.options.styles, this.options.addWaypoints);\n    },\n\n    getBounds: function () {\n        return L.latLngBounds(this._route.coordinates);\n    },\n\n    _findWaypointIndices: function () {\n        var wps = this._route.inputWaypoints,\n            indices = [],\n            i;\n        for (i = 0; i < wps.length; i++) {\n            indices.push(this._findClosestRoutePoint(wps[i].latLng));\n        }\n\n        return indices;\n    },\n\n    _findClosestRoutePoint: function (latlng) {\n        var minDist = Number.MAX_VALUE,\n            minIndex,\n            i,\n            d;\n\n        for (i = this._route.coordinates.length - 1; i >= 0; i--) {\n            // TODO: maybe do this in pixel space instead?\n            d = latlng.distanceTo(this._route.coordinates[i]);\n            if (d < minDist) {\n                minIndex = i;\n                minDist = d;\n            }\n        }\n\n        return minIndex;\n    },\n\n    _extendToWaypoints: function () {\n        var wps = this._route.inputWaypoints,\n            wpIndices = this._getWaypointIndices(),\n            i,\n            wpLatLng,\n            routeCoord;\n\n        for (i = 0; i < wps.length; i++) {\n            wpLatLng = wps[i].latLng;\n            routeCoord = L.latLng(this._route.coordinates[wpIndices[i]]);\n            if (wpLatLng.distanceTo(routeCoord) > this.options.missingRouteTolerance) {\n                this._addSegment([wpLatLng, routeCoord], this.options.missingRouteStyles);\n            }\n        }\n    },\n\n    _addSegment: function (coords, styles, mouselistener) {\n        var i, pl;\n\n        for (i = 0; i < styles.length; i++) {\n            pl = L.polyline(coords, styles[i]);\n            this.addLayer(pl);\n            if (mouselistener) {\n                pl.on('mousedown', this._onLineTouched, this);\n            }\n        }\n    },\n\n    _findNearestWpBefore: function (i) {\n        var wpIndices = this._getWaypointIndices(),\n            j = wpIndices.length - 1;\n        while (j >= 0 && wpIndices[j] > i) {\n            j--;\n        }\n\n        return j;\n    },\n\n    _onLineTouched: function (e) {\n        var afterIndex = this._findNearestWpBefore(this._findClosestRoutePoint(e.latlng));\n        this.fire('linetouched', {\n            afterIndex: afterIndex,\n            latlng: e.latlng,\n        });\n        L.DomEvent.stop(e);\n    },\n\n    _getWaypointIndices: function () {\n        if (!this._wpIndices) {\n            this._wpIndices = this._route.waypointIndices || this._findWaypointIndices();\n        }\n\n        return this._wpIndices;\n    },\n});\n","export default L.Class.extend({\n    options: {\n        timeout: 500,\n        blurTimeout: 100,\n        noResultsMessage: 'No results found.',\n    },\n\n    initialize: function (elem, callback, context, options) {\n        L.setOptions(this, options);\n\n        this._elem = elem;\n        this._resultFn = options.resultFn ? L.Util.bind(options.resultFn, options.resultContext) : null;\n        this._autocomplete = options.autocompleteFn ? L.Util.bind(options.autocompleteFn, options.autocompleteContext) : null;\n        this._selectFn = L.Util.bind(callback, context);\n        this._container = L.DomUtil.create('div', 'leaflet-routing-geocoder-result');\n        this._resultTable = L.DomUtil.create('table', '', this._container);\n\n        // TODO: looks a bit like a kludge to register same for input and keypress -\n        // browsers supporting both will get duplicate events; just registering\n        // input will not catch enter, though.\n        L.DomEvent.addListener(this._elem, 'input', this._keyPressed, this);\n        L.DomEvent.addListener(this._elem, 'keypress', this._keyPressed, this);\n        L.DomEvent.addListener(this._elem, 'keydown', this._keyDown, this);\n        L.DomEvent.addListener(\n            this._elem,\n            'blur',\n            function () {\n                if (this._isOpen) {\n                    this.close();\n                }\n            },\n            this\n        );\n    },\n\n    close: function () {\n        L.DomUtil.removeClass(this._container, 'leaflet-routing-geocoder-result-open');\n        this._isOpen = false;\n    },\n\n    _open: function () {\n        var rect = this._elem.getBoundingClientRect();\n        if (!this._container.parentElement) {\n            // See notes section under https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollX\n            // This abomination is required to support all flavors of IE\n            var scrollX = window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft;\n            var scrollY = window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n            this._container.style.left = rect.left + scrollX + 'px';\n            this._container.style.top = rect.bottom + scrollY + 'px';\n            this._container.style.width = rect.right - rect.left + 'px';\n            document.body.appendChild(this._container);\n        }\n\n        L.DomUtil.addClass(this._container, 'leaflet-routing-geocoder-result-open');\n        this._isOpen = true;\n    },\n\n    _setResults: function (results) {\n        var i, tr, td, text;\n\n        delete this._selection;\n        this._results = results;\n\n        while (this._resultTable.firstChild) {\n            this._resultTable.removeChild(this._resultTable.firstChild);\n        }\n\n        for (i = 0; i < results.length; i++) {\n            tr = L.DomUtil.create('tr', '', this._resultTable);\n            tr.setAttribute('data-result-index', i);\n            td = L.DomUtil.create('td', '', tr);\n\n            if (this.options.formatGeocoderResult) {\n                text = this.options.formatGeocoderResult(results[i]);\n            } else {\n                text = document.createTextNode(results[i].name);\n            }\n\n            td.appendChild(text);\n            // mousedown + click because:\n            // http://stackoverflow.com/questions/10652852/jquery-fire-click-before-blur-event\n            L.DomEvent.addListener(td, 'mousedown', L.DomEvent.preventDefault);\n            L.DomEvent.addListener(td, 'click', this._createClickListener(results[i]));\n        }\n\n        if (!i) {\n            tr = L.DomUtil.create('tr', '', this._resultTable);\n            td = L.DomUtil.create('td', 'leaflet-routing-geocoder-no-results', tr);\n            td.innerHTML = this.options.noResultsMessage;\n        }\n\n        this._open();\n\n        if (results.length > 0) {\n            // Select the first entry\n            this._select(1);\n        }\n    },\n\n    _createClickListener: function (r) {\n        var resultSelected = this._resultSelected(r);\n        return L.bind(function () {\n            this._elem.blur();\n            resultSelected();\n        }, this);\n    },\n\n    _resultSelected: function (r) {\n        return L.bind(function () {\n            this.close();\n            this._elem.value = r.name;\n            this._lastCompletedText = r.name;\n            this._selectFn(r);\n        }, this);\n    },\n\n    _keyPressed: function (e) {\n        var index;\n\n        if (this._isOpen && e.keyCode === 13 && this._selection) {\n            index = parseInt(this._selection.getAttribute('data-result-index'), 10);\n            this._resultSelected(this._results[index])();\n            L.DomEvent.preventDefault(e);\n            return;\n        }\n\n        if (e.keyCode === 13) {\n            L.DomEvent.preventDefault(e);\n            this._complete(this._resultFn, true);\n            return;\n        }\n\n        if (this._autocomplete && document.activeElement === this._elem) {\n            if (this._timer) {\n                clearTimeout(this._timer);\n            }\n            this._timer = setTimeout(\n                L.Util.bind(function () {\n                    this._complete(this._autocomplete);\n                }, this),\n                this.options.timeout\n            );\n            return;\n        }\n\n        this._unselect();\n    },\n\n    _select: function (dir) {\n        var sel = this._selection;\n        if (sel) {\n            L.DomUtil.removeClass(sel.firstChild, 'leaflet-routing-geocoder-selected');\n            sel = sel[dir > 0 ? 'nextSibling' : 'previousSibling'];\n        }\n        if (!sel) {\n            sel = this._resultTable[dir > 0 ? 'firstChild' : 'lastChild'];\n        }\n\n        if (sel) {\n            L.DomUtil.addClass(sel.firstChild, 'leaflet-routing-geocoder-selected');\n            this._selection = sel;\n        }\n    },\n\n    _unselect: function () {\n        if (this._selection) {\n            L.DomUtil.removeClass(this._selection.firstChild, 'leaflet-routing-geocoder-selected');\n        }\n        delete this._selection;\n    },\n\n    _keyDown: function (e) {\n        if (this._isOpen) {\n            switch (e.keyCode) {\n                // Escape\n                case 27:\n                    this.close();\n                    L.DomEvent.preventDefault(e);\n                    return;\n                // Up\n                case 38:\n                    this._select(-1);\n                    L.DomEvent.preventDefault(e);\n                    return;\n                // Down\n                case 40:\n                    this._select(1);\n                    L.DomEvent.preventDefault(e);\n                    return;\n            }\n        }\n    },\n\n    _complete: function (completeFn, trySelect) {\n        var v = this._elem.value;\n        function completeResults(results) {\n            this._lastCompletedText = v;\n            if (trySelect && results.length === 1) {\n                this._resultSelected(results[0])();\n            } else {\n                this._setResults(results);\n            }\n        }\n\n        if (!v) {\n            return;\n        }\n\n        if (v !== this._lastCompletedText) {\n            completeFn(v, completeResults, this);\n        } else if (trySelect) {\n            completeResults.call(this, this._results);\n        }\n    },\n});\n","import Autocomplete from './autocomplete';\nimport Localization from './localization';\n\nconst selectInputText = (input) => {\n    if (input.setSelectionRange) {\n        // On iOS, select() doesn't work\n        input.setSelectionRange(0, 9999);\n    } else {\n        // On at least IE8, setSeleectionRange doesn't exist\n        input.select();\n    }\n};\n\nexport default L.Class.extend({\n    includes: (typeof L.Evented !== 'undefined' && L.Evented.prototype) || L.Mixin.Events,\n\n    options: {\n        createGeocoder: function (i, nWps, options) {\n            var container = L.DomUtil.create('div', 'leaflet-routing-geocoder'),\n                input = L.DomUtil.create('input', '', container),\n                remove = options.addWaypoints ? L.DomUtil.create('span', 'leaflet-routing-remove-waypoint', container) : undefined;\n\n            input.disabled = !options.addWaypoints;\n\n            return {\n                container: container,\n                input: input,\n                closeButton: remove,\n            };\n        },\n        geocoderPlaceholder: function (i, numberWaypoints, geocoderElement) {\n            var l = new Localization(geocoderElement.options.language).localize('ui');\n            return i === 0 ? l.startPlaceholder : i < numberWaypoints - 1 ? L.Util.template(l.viaPlaceholder, { viaNumber: i }) : l.endPlaceholder;\n        },\n\n        geocoderClass: function () {\n            return '';\n        },\n\n        waypointNameFallback: function (latLng) {\n            var ns = latLng.lat < 0 ? 'S' : 'N',\n                ew = latLng.lng < 0 ? 'W' : 'E',\n                lat = (Math.round(Math.abs(latLng.lat) * 10000) / 10000).toString(),\n                lng = (Math.round(Math.abs(latLng.lng) * 10000) / 10000).toString();\n            return ns + lat + ', ' + ew + lng;\n        },\n        maxGeocoderTolerance: 200,\n        autocompleteOptions: {},\n        language: 'en',\n    },\n\n    initialize: function (wp, i, nWps, options) {\n        L.setOptions(this, options);\n\n        var g = this.options.createGeocoder(i, nWps, this.options),\n            closeButton = g.closeButton,\n            geocoderInput = g.input;\n        geocoderInput.setAttribute('placeholder', this.options.geocoderPlaceholder(i, nWps, this));\n        geocoderInput.className = this.options.geocoderClass(i, nWps);\n\n        this._element = g;\n        this._waypoint = wp;\n\n        this.update();\n        // This has to be here, or geocoder's value will not be properly\n        // initialized.\n        // TODO: look into why and make _updateWaypointName fix this.\n        geocoderInput.value = wp.name;\n\n        L.DomEvent.addListener(\n            geocoderInput,\n            'click',\n            function () {\n                selectInputText(this);\n            },\n            geocoderInput\n        );\n\n        if (closeButton) {\n            L.DomEvent.addListener(\n                closeButton,\n                'click',\n                function () {\n                    this.fire('delete', { waypoint: this._waypoint });\n                },\n                this\n            );\n        }\n\n        if (typeof this.options.formatGeocoderResult == 'function') {\n            this.options.autocompleteOptions.formatGeocoderResult = this.options.formatGeocoderResult;\n        }\n\n        new Autocomplete(\n            geocoderInput,\n            function (r) {\n                geocoderInput.value = r.name;\n                wp.name = r.name;\n                wp.latLng = r.center;\n                this.fire('geocoded', { waypoint: wp, value: r });\n            },\n            this,\n            L.extend(\n                {\n                    resultFn: this.options.geocoder.geocode,\n                    resultContext: this.options.geocoder,\n                    autocompleteFn: this.options.geocoder.suggest,\n                    autocompleteContext: this.options.geocoder,\n                },\n                this.options.autocompleteOptions\n            )\n        );\n    },\n\n    getContainer: function () {\n        return this._element.container;\n    },\n\n    setValue: function (v) {\n        this._element.input.value = v;\n    },\n\n    update: function (force) {\n        var wp = this._waypoint,\n            wpCoords;\n\n        wp.name = wp.name || '';\n\n        if (wp.latLng && (force || !wp.name)) {\n            wpCoords = this.options.waypointNameFallback(wp.latLng);\n            if (this.options.geocoder && this.options.geocoder.reverse) {\n                this.options.geocoder.reverse(\n                    wp.latLng,\n                    67108864 /* zoom 18 */,\n                    function (rs) {\n                        if (rs.length > 0 && rs[0].center.distanceTo(wp.latLng) < this.options.maxGeocoderTolerance) {\n                            wp.name = rs[0].name;\n                        } else {\n                            wp.name = wpCoords;\n                        }\n                        this._update();\n                    },\n                    this\n                );\n            } else {\n                wp.name = wpCoords;\n                this._update();\n            }\n        }\n    },\n\n    focus: function () {\n        var input = this._element.input;\n        input.focus();\n        selectInputText(input);\n    },\n\n    _update: function () {\n        var wp = this._waypoint,\n            value = wp && wp.name ? wp.name : '';\n        this.setValue(value);\n        this.fire('reversegeocoded', { waypoint: wp, value: value });\n    },\n});\n","export default L.Class.extend({\n    options: {\n        allowUTurn: false,\n    },\n    initialize: function (latLng, name, options) {\n        L.Util.setOptions(this, options);\n        this.latLng = L.latLng(latLng);\n        this.name = name;\n    },\n});\n","import GeocoderElement from './geocoder-element';\nimport Waypoint from './waypoint';\n\nconst BaseClass = L.Layer || L.Class;\n\nexport default BaseClass.extend({\n    includes: (typeof L.Evented !== 'undefined' && L.Evented.prototype) || L.Mixin.Events,\n\n    options: {\n        dragStyles: [\n            { color: 'black', opacity: 0.15, weight: 9 },\n            { color: 'white', opacity: 0.8, weight: 6 },\n            { color: 'red', opacity: 1, weight: 2, dashArray: '7,12' },\n        ],\n        draggableWaypoints: true,\n        routeWhileDragging: false,\n        addWaypoints: true,\n        reverseWaypoints: false,\n        addButtonClassName: '',\n        language: 'en',\n        createGeocoderElement: function (wp, i, nWps, plan) {\n            return new GeocoderElement(wp, i, nWps, plan);\n        },\n        createMarker: function (i, wp) {\n            var options = {\n                    draggable: this.draggableWaypoints,\n                },\n                marker = L.marker(wp.latLng, options);\n\n            return marker;\n        },\n        geocodersClassName: '',\n    },\n\n    initialize: function (waypoints, options) {\n        L.Util.setOptions(this, options);\n        this._waypoints = [];\n        this.setWaypoints(waypoints);\n    },\n\n    isReady: function () {\n        var i;\n        for (i = 0; i < this._waypoints.length; i++) {\n            if (!this._waypoints[i].latLng) {\n                return false;\n            }\n        }\n\n        return true;\n    },\n\n    getWaypoints: function () {\n        var i,\n            wps = [];\n\n        for (i = 0; i < this._waypoints.length; i++) {\n            wps.push(this._waypoints[i]);\n        }\n\n        return wps;\n    },\n\n    setWaypoints: function (waypoints) {\n        var args = [0, this._waypoints.length].concat(waypoints);\n        this.spliceWaypoints.apply(this, args);\n        return this;\n    },\n\n    spliceWaypoints: function () {\n        var args = [arguments[0], arguments[1]],\n            i;\n\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i] && arguments[i].hasOwnProperty('latLng') ? arguments[i] : new Waypoint(arguments[i]));\n        }\n\n        [].splice.apply(this._waypoints, args);\n\n        // Make sure there's always at least two waypoints\n        while (this._waypoints.length < 2) {\n            this.spliceWaypoints(this._waypoints.length, 0, null);\n        }\n\n        this._updateMarkers();\n        this._fireChanged.apply(this, args);\n    },\n\n    onAdd: function (map) {\n        this._map = map;\n        this._updateMarkers();\n    },\n\n    onRemove: function () {\n        var i;\n        this._removeMarkers();\n\n        if (this._newWp) {\n            for (i = 0; i < this._newWp.lines.length; i++) {\n                this._map.removeLayer(this._newWp.lines[i]);\n            }\n        }\n\n        delete this._map;\n    },\n\n    createGeocoders: function () {\n        var container = L.DomUtil.create('div', 'leaflet-routing-geocoders ' + this.options.geocodersClassName),\n            waypoints = this._waypoints,\n            addWpBtn,\n            reverseBtn;\n\n        this._geocoderContainer = container;\n        this._geocoderElems = [];\n\n        if (this.options.addWaypoints) {\n            addWpBtn = L.DomUtil.create('button', 'leaflet-routing-add-waypoint ' + this.options.addButtonClassName, container);\n            addWpBtn.setAttribute('type', 'button');\n            L.DomEvent.addListener(\n                addWpBtn,\n                'click',\n                function () {\n                    this.spliceWaypoints(waypoints.length, 0, null);\n                },\n                this\n            );\n        }\n\n        if (this.options.reverseWaypoints) {\n            reverseBtn = L.DomUtil.create('button', 'leaflet-routing-reverse-waypoints', container);\n            reverseBtn.setAttribute('type', 'button');\n            L.DomEvent.addListener(\n                reverseBtn,\n                'click',\n                function () {\n                    this._waypoints.reverse();\n                    this.setWaypoints(this._waypoints);\n                },\n                this\n            );\n        }\n\n        this._updateGeocoders();\n        this.on('waypointsspliced', this._updateGeocoders);\n\n        return container;\n    },\n\n    _createGeocoder: function (i) {\n        var geocoder = this.options.createGeocoderElement(this._waypoints[i], i, this._waypoints.length, this.options);\n        geocoder\n            .on(\n                'delete',\n                function () {\n                    if (i > 0 || this._waypoints.length > 2) {\n                        this.spliceWaypoints(i, 1);\n                    } else {\n                        this.spliceWaypoints(i, 1, new Waypoint());\n                    }\n                },\n                this\n            )\n            .on(\n                'geocoded',\n                function (e) {\n                    this._updateMarkers();\n                    this._fireChanged();\n                    this._focusGeocoder(i + 1);\n                    this.fire('waypointgeocoded', {\n                        waypointIndex: i,\n                        waypoint: e.waypoint,\n                    });\n                },\n                this\n            )\n            .on(\n                'reversegeocoded',\n                function (e) {\n                    this.fire('waypointgeocoded', {\n                        waypointIndex: i,\n                        waypoint: e.waypoint,\n                    });\n                },\n                this\n            );\n\n        return geocoder;\n    },\n\n    _updateGeocoders: function () {\n        var elems = [],\n            i,\n            geocoderElem;\n\n        for (i = 0; i < this._geocoderElems.length; i++) {\n            this._geocoderContainer.removeChild(this._geocoderElems[i].getContainer());\n        }\n\n        for (i = this._waypoints.length - 1; i >= 0; i--) {\n            geocoderElem = this._createGeocoder(i);\n            this._geocoderContainer.insertBefore(geocoderElem.getContainer(), this._geocoderContainer.firstChild);\n            elems.push(geocoderElem);\n        }\n\n        this._geocoderElems = elems.reverse();\n    },\n\n    _removeMarkers: function () {\n        var i;\n        if (this._markers) {\n            for (i = 0; i < this._markers.length; i++) {\n                if (this._markers[i]) {\n                    this._map.removeLayer(this._markers[i]);\n                }\n            }\n        }\n        this._markers = [];\n    },\n\n    _updateMarkers: function () {\n        var i, m;\n\n        if (!this._map) {\n            return;\n        }\n\n        this._removeMarkers();\n\n        for (i = 0; i < this._waypoints.length; i++) {\n            if (this._waypoints[i].latLng) {\n                m = this.options.createMarker(i, this._waypoints[i], this._waypoints.length);\n                if (m) {\n                    m.addTo(this._map);\n                    if (this.options.draggableWaypoints) {\n                        this._hookWaypointEvents(m, i);\n                    }\n                }\n            } else {\n                m = null;\n            }\n            this._markers.push(m);\n        }\n    },\n\n    _fireChanged: function () {\n        this.fire('waypointschanged', { waypoints: this.getWaypoints() });\n\n        if (arguments.length >= 2) {\n            this.fire('waypointsspliced', {\n                index: Array.prototype.shift.call(arguments),\n                nRemoved: Array.prototype.shift.call(arguments),\n                added: arguments,\n            });\n        }\n    },\n\n    _hookWaypointEvents: function (m, i, trackMouseMove) {\n        var eventLatLng = function (e) {\n                return trackMouseMove ? e.latlng : e.target.getLatLng();\n            },\n            dragStart = L.bind(function (e) {\n                this.fire('waypointdragstart', { index: i, latlng: eventLatLng(e) });\n            }, this),\n            drag = L.bind(function (e) {\n                this._waypoints[i].latLng = eventLatLng(e);\n                this.fire('waypointdrag', { index: i, latlng: eventLatLng(e) });\n            }, this),\n            dragEnd = L.bind(function (e) {\n                this._waypoints[i].latLng = eventLatLng(e);\n                this._waypoints[i].name = '';\n                if (this._geocoderElems) {\n                    this._geocoderElems[i].update(true);\n                }\n                this.fire('waypointdragend', { index: i, latlng: eventLatLng(e) });\n                this._fireChanged();\n            }, this),\n            mouseMove,\n            mouseUp;\n\n        if (trackMouseMove) {\n            mouseMove = L.bind(function (e) {\n                this._markers[i].setLatLng(e.latlng);\n                drag(e);\n            }, this);\n            mouseUp = L.bind(function (e) {\n                this._map.dragging.enable();\n                this._map.off('mouseup', mouseUp);\n                this._map.off('mousemove', mouseMove);\n                dragEnd(e);\n            }, this);\n            this._map.dragging.disable();\n            this._map.on('mousemove', mouseMove);\n            this._map.on('mouseup', mouseUp);\n            dragStart({ latlng: this._waypoints[i].latLng });\n        } else {\n            m.on('dragstart', dragStart);\n            m.on('drag', drag);\n            m.on('dragend', dragEnd);\n        }\n    },\n\n    dragNewWaypoint: function (e) {\n        var newWpIndex = e.afterIndex + 1;\n        if (this.options.routeWhileDragging) {\n            this.spliceWaypoints(newWpIndex, 0, e.latlng);\n            this._hookWaypointEvents(this._markers[newWpIndex], newWpIndex, true);\n        } else {\n            this._dragNewWaypoint(newWpIndex, e.latlng);\n        }\n    },\n\n    _dragNewWaypoint: function (newWpIndex, initialLatLng) {\n        var wp = new Waypoint(initialLatLng),\n            prevWp = this._waypoints[newWpIndex - 1],\n            nextWp = this._waypoints[newWpIndex],\n            marker = this.options.createMarker(newWpIndex, wp, this._waypoints.length + 1),\n            lines = [],\n            draggingEnabled = this._map.dragging.enabled(),\n            mouseMove = L.bind(function (e) {\n                var i, latLngs;\n                if (marker) {\n                    marker.setLatLng(e.latlng);\n                }\n                for (i = 0; i < lines.length; i++) {\n                    latLngs = lines[i].getLatLngs();\n                    latLngs.splice(1, 1, e.latlng);\n                    lines[i].setLatLngs(latLngs);\n                }\n\n                L.DomEvent.stop(e);\n            }, this),\n            mouseUp = L.bind(function (e) {\n                var i;\n                if (marker) {\n                    this._map.removeLayer(marker);\n                }\n                for (i = 0; i < lines.length; i++) {\n                    this._map.removeLayer(lines[i]);\n                }\n                this._map.off('mousemove', mouseMove);\n                this._map.off('mouseup', mouseUp);\n                this.spliceWaypoints(newWpIndex, 0, e.latlng);\n                if (draggingEnabled) {\n                    this._map.dragging.enable();\n                }\n\n                L.DomEvent.stop(e);\n            }, this),\n            i;\n\n        if (marker) {\n            marker.addTo(this._map);\n        }\n\n        for (i = 0; i < this.options.dragStyles.length; i++) {\n            lines.push(L.polyline([prevWp.latLng, initialLatLng, nextWp.latLng], this.options.dragStyles[i]).addTo(this._map));\n        }\n\n        if (draggingEnabled) {\n            this._map.dragging.disable();\n        }\n\n        this._map.on('mousemove', mouseMove);\n        this._map.on('mouseup', mouseUp);\n    },\n\n    _focusGeocoder: function (i) {\n        if (this._geocoderElems[i]) {\n            this._geocoderElems[i].focus();\n        } else {\n            document.activeElement.blur();\n        }\n    },\n});\n","import corslite from '@mapbox/corslite';\nimport polyline from '@mapbox/polyline';\nimport getOsrmTextInstructions from 'osrm-text-instructions';\nimport Waypoint from './waypoint';\n\nconst osrmTextInstructions = getOsrmTextInstructions('v5');\n\n/**\n * Works against OSRM's new API in version 5.0; this has\n * the API version v1.\n */\nexport default L.Class.extend({\n    options: {\n        serviceUrl: 'https://router.project-osrm.org/route/v1',\n        profile: 'driving',\n        timeout: 30 * 1000,\n        routingOptions: {\n            alternatives: true,\n            steps: true,\n        },\n        polylinePrecision: 5,\n        useHints: true,\n        suppressDemoServerWarning: false,\n        language: 'en',\n    },\n\n    initialize: function (options) {\n        L.Util.setOptions(this, options);\n        this._hints = {\n            locations: {},\n        };\n\n        if (!this.options.suppressDemoServerWarning && this.options.serviceUrl.indexOf('//router.project-osrm.org') >= 0) {\n            console.warn(\n                \"You are using OSRM's demo server. \" +\n                    'Please note that it is **NOT SUITABLE FOR PRODUCTION USE**.\\n' +\n                    \"Refer to the demo server's usage policy: \" +\n                    'https://github.com/Project-OSRM/osrm-backend/wiki/Api-usage-policy\\n\\n' +\n                    'To change, set the serviceUrl option.\\n\\n' +\n                    'Please do not report issues with this server to neither ' +\n                    \"Leaflet Routing Machine or OSRM - it's for\\n\" +\n                    'demo only, and will sometimes not be available, or work in ' +\n                    'unexpected ways.\\n\\n' +\n                    'Please set up your own OSRM server, or use a paid service ' +\n                    'provider for production.'\n            );\n        }\n    },\n\n    route: function (waypoints, callback, context, options) {\n        var timedOut = false,\n            wps = [],\n            url,\n            timer,\n            wp,\n            i,\n            xhr;\n\n        options = L.extend({}, this.options.routingOptions, options);\n        url = this.buildRouteUrl(waypoints, options);\n        if (this.options.requestParameters) {\n            url += L.Util.getParamString(this.options.requestParameters, url);\n        }\n\n        timer = setTimeout(function () {\n            timedOut = true;\n            callback.call(context || callback, {\n                status: -1,\n                message: 'OSRM request timed out.',\n            });\n        }, this.options.timeout);\n\n        // Create a copy of the waypoints, since they\n        // might otherwise be asynchronously modified while\n        // the request is being processed.\n        for (i = 0; i < waypoints.length; i++) {\n            wp = waypoints[i];\n            wps.push(new Waypoint(wp.latLng, wp.name, wp.options));\n        }\n\n        return (xhr = corslite(\n            url,\n            L.bind(function (err, resp) {\n                var data,\n                    error = {};\n\n                clearTimeout(timer);\n                if (!timedOut) {\n                    if (!err) {\n                        try {\n                            data = JSON.parse(resp.responseText);\n                            try {\n                                return this._routeDone(data, wps, options, callback, context);\n                            } catch (ex) {\n                                error.status = -3;\n                                error.message = ex.toString();\n                            }\n                        } catch (ex) {\n                            error.status = -2;\n                            error.message = 'Error parsing OSRM response: ' + ex.toString();\n                        }\n                    } else {\n                        var message = err.type + (err.target && err.target.status ? ' HTTP ' + err.target.status + ': ' + err.target.statusText : '');\n                        if (err.responseText) {\n                            try {\n                                data = JSON.parse(err.responseText);\n                                if (data.message) message = data.message;\n                            } catch (ex) {}\n                        }\n                        error.message = 'HTTP request failed: ' + message;\n                        error.url = url;\n                        error.status = -1;\n                        error.target = err;\n                    }\n\n                    callback.call(context || callback, error);\n                } else {\n                    xhr.abort();\n                }\n            }, this)\n        ));\n    },\n\n    requiresMoreDetail: function (route, zoom, bounds) {\n        if (!route.properties.isSimplified) {\n            return false;\n        }\n\n        var waypoints = route.inputWaypoints,\n            i;\n        for (i = 0; i < waypoints.length; ++i) {\n            if (!bounds.contains(waypoints[i].latLng)) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    _routeDone: function (response, inputWaypoints, options, callback, context) {\n        var alts = [],\n            actualWaypoints,\n            i,\n            route;\n\n        context = context || callback;\n        if (response.code !== 'Ok') {\n            callback.call(context, {\n                status: response.code,\n            });\n            return;\n        }\n\n        actualWaypoints = this._toWaypoints(inputWaypoints, response.waypoints);\n\n        for (i = 0; i < response.routes.length; i++) {\n            route = this._convertRoute(response.routes[i]);\n            route.inputWaypoints = inputWaypoints;\n            route.waypoints = actualWaypoints;\n            route.properties = { isSimplified: !options || !options.geometryOnly || options.simplifyGeometry };\n            alts.push(route);\n        }\n\n        this._saveHintData(response.waypoints, inputWaypoints);\n\n        callback.call(context, null, alts);\n    },\n\n    _convertRoute: function (responseRoute) {\n        var result = {\n                name: '',\n                coordinates: [],\n                instructions: [],\n                summary: {\n                    totalDistance: responseRoute.distance,\n                    totalTime: responseRoute.duration,\n                },\n            },\n            legNames = [],\n            waypointIndices = [],\n            index = 0,\n            legCount = responseRoute.legs.length,\n            hasSteps = responseRoute.legs[0].steps.length > 0,\n            i,\n            j,\n            leg,\n            step,\n            geometry,\n            type,\n            modifier,\n            text,\n            stepToText;\n\n        if (this.options.stepToText) {\n            stepToText = this.options.stepToText;\n        } else {\n            stepToText = L.bind(osrmTextInstructions.compile, osrmTextInstructions, this.options.language);\n        }\n\n        for (i = 0; i < legCount; i++) {\n            leg = responseRoute.legs[i];\n            legNames.push(leg.summary && leg.summary.charAt(0).toUpperCase() + leg.summary.substring(1));\n            for (j = 0; j < leg.steps.length; j++) {\n                step = leg.steps[j];\n                geometry = this._decodePolyline(step.geometry);\n                result.coordinates.push.apply(result.coordinates, geometry);\n                type = this._maneuverToInstructionType(step.maneuver, i === legCount - 1);\n                modifier = this._maneuverToModifier(step.maneuver);\n                text = stepToText(step, { legCount: legCount, legIndex: i });\n\n                if (type) {\n                    if ((i == 0 && step.maneuver.type == 'depart') || step.maneuver.type == 'arrive') {\n                        waypointIndices.push(index);\n                    }\n\n                    result.instructions.push({\n                        type: type,\n                        distance: step.distance,\n                        time: step.duration,\n                        road: step.name,\n                        direction: this._bearingToDirection(step.maneuver.bearing_after),\n                        exit: step.maneuver.exit,\n                        index: index,\n                        mode: step.mode,\n                        modifier: modifier,\n                        text: text,\n                    });\n                }\n\n                index += geometry.length;\n            }\n        }\n\n        result.name = legNames.join(', ');\n        if (!hasSteps) {\n            result.coordinates = this._decodePolyline(responseRoute.geometry);\n        } else {\n            result.waypointIndices = waypointIndices;\n        }\n\n        return result;\n    },\n\n    _bearingToDirection: function (bearing) {\n        var oct = Math.round(bearing / 45) % 8;\n        return ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'][oct];\n    },\n\n    _maneuverToInstructionType: function (maneuver, lastLeg) {\n        switch (maneuver.type) {\n            case 'new name':\n                return 'Continue';\n            case 'depart':\n                return 'Head';\n            case 'arrive':\n                return lastLeg ? 'DestinationReached' : 'WaypointReached';\n            case 'roundabout':\n            case 'rotary':\n                return 'Roundabout';\n            case 'merge':\n            case 'fork':\n            case 'on ramp':\n            case 'off ramp':\n            case 'end of road':\n                return this._camelCase(maneuver.type);\n            // These are all reduced to the same instruction in the current model\n            //case 'turn':\n            //case 'ramp': // deprecated in v5.1\n            default:\n                return this._camelCase(maneuver.modifier);\n        }\n    },\n\n    _maneuverToModifier: function (maneuver) {\n        var modifier = maneuver.modifier;\n\n        switch (maneuver.type) {\n            case 'merge':\n            case 'fork':\n            case 'on ramp':\n            case 'off ramp':\n            case 'end of road':\n                modifier = this._leftOrRight(modifier);\n        }\n\n        return modifier && this._camelCase(modifier);\n    },\n\n    _camelCase: function (s) {\n        var words = s.split(' '),\n            result = '';\n        for (var i = 0, l = words.length; i < l; i++) {\n            result += words[i].charAt(0).toUpperCase() + words[i].substring(1);\n        }\n\n        return result;\n    },\n\n    _leftOrRight: function (d) {\n        return d.indexOf('left') >= 0 ? 'Left' : 'Right';\n    },\n\n    _decodePolyline: function (routeGeometry) {\n        var cs = polyline.decode(routeGeometry, this.options.polylinePrecision),\n            result = new Array(cs.length),\n            i;\n        for (i = cs.length - 1; i >= 0; i--) {\n            result[i] = L.latLng(cs[i]);\n        }\n\n        return result;\n    },\n\n    _toWaypoints: function (inputWaypoints, vias) {\n        var wps = [],\n            i,\n            viaLoc;\n        for (i = 0; i < vias.length; i++) {\n            viaLoc = vias[i].location;\n            wps.push(new Waypoint(L.latLng(viaLoc[1], viaLoc[0]), inputWaypoints[i].name, inputWaypoints[i].options));\n        }\n\n        return wps;\n    },\n\n    buildRouteUrl: function (waypoints, options) {\n        var locs = [],\n            hints = [],\n            wp,\n            latLng,\n            computeInstructions,\n            computeAlternative = true;\n\n        for (var i = 0; i < waypoints.length; i++) {\n            wp = waypoints[i];\n            latLng = wp.latLng;\n            locs.push(latLng.lng + ',' + latLng.lat);\n            hints.push(this._hints.locations[this._locationKey(latLng)] || '');\n        }\n\n        computeInstructions = true;\n\n        return (\n            this.options.serviceUrl +\n            '/' +\n            this.options.profile +\n            '/' +\n            locs.join(';') +\n            '?' +\n            (options.geometryOnly ? (options.simplifyGeometry ? '' : 'overview=full') : 'overview=false') +\n            '&alternatives=' +\n            computeAlternative.toString() +\n            '&steps=' +\n            computeInstructions.toString() +\n            (this.options.useHints ? '&hints=' + hints.join(';') : '') +\n            (options.allowUTurns ? '&continue_straight=' + !options.allowUTurns : '')\n        );\n    },\n\n    _locationKey: function (location) {\n        return location.lat + ',' + location.lng;\n    },\n\n    _saveHintData: function (actualWaypoints, waypoints) {\n        var loc;\n        this._hints = {\n            locations: {},\n        };\n        for (var i = actualWaypoints.length - 1; i >= 0; i--) {\n            loc = waypoints[i].latLng;\n            this._hints.locations[this._locationKey(loc)] = actualWaypoints[i].hint;\n        }\n    },\n});\n","import Itinerary from './itinerary';\nimport Line from './line';\nimport Plan from './plan';\nimport OSRMv1 from './osrm-v1';\n\nexport default Itinerary.extend({\n    options: {\n        fitSelectedRoutes: 'smart',\n        routeLine: function (route, options) {\n            return new Line(route, options);\n        },\n        autoRoute: true,\n        routeWhileDragging: false,\n        routeDragInterval: 500,\n        waypointMode: 'connect',\n        showAlternatives: false,\n        defaultErrorHandler: function (e) {\n            console.error('Routing error:', e.error);\n        },\n    },\n\n    initialize: function (options) {\n        L.Util.setOptions(this, options);\n\n        this._router = this.options.router || new OSRMv1(options);\n        this._plan = this.options.plan || new Plan(this.options.waypoints, options);\n        this._requestCount = 0;\n\n        Itinerary.prototype.initialize.call(this, options);\n\n        this.on('routeselected', this._routeSelected, this);\n        if (this.options.defaultErrorHandler) {\n            this.on('routingerror', this.options.defaultErrorHandler);\n        }\n        this._plan.on('waypointschanged', this._onWaypointsChanged, this);\n        if (options.routeWhileDragging) {\n            this._setupRouteDragging();\n        }\n    },\n\n    _onZoomEnd: function () {\n        if (!this._selectedRoute || !this._router.requiresMoreDetail) {\n            return;\n        }\n\n        var map = this._map;\n        if (this._router.requiresMoreDetail(this._selectedRoute, map.getZoom(), map.getBounds())) {\n            this.route({\n                callback: L.bind(function (err, routes) {\n                    var i;\n                    if (!err) {\n                        for (i = 0; i < routes.length; i++) {\n                            this._routes[i].properties = routes[i].properties;\n                        }\n                        this._updateLineCallback(err, routes);\n                    }\n                }, this),\n                simplifyGeometry: false,\n                geometryOnly: true,\n            });\n        }\n    },\n\n    onAdd: function (map) {\n        if (this.options.autoRoute) {\n            this.route();\n        }\n\n        var container = Itinerary.prototype.onAdd.call(this, map);\n\n        this._map = map;\n        this._map.addLayer(this._plan);\n\n        this._map.on('zoomend', this._onZoomEnd, this);\n\n        if (this._plan.options.geocoder) {\n            container.insertBefore(this._plan.createGeocoders(), container.firstChild);\n        }\n\n        return container;\n    },\n\n    onRemove: function (map) {\n        map.off('zoomend', this._onZoomEnd, this);\n        if (this._line) {\n            map.removeLayer(this._line);\n        }\n        map.removeLayer(this._plan);\n        if (this._alternatives && this._alternatives.length > 0) {\n            for (var i = 0, len = this._alternatives.length; i < len; i++) {\n                map.removeLayer(this._alternatives[i]);\n            }\n        }\n        return Itinerary.prototype.onRemove.call(this, map);\n    },\n\n    getWaypoints: function () {\n        return this._plan.getWaypoints();\n    },\n\n    setWaypoints: function (waypoints) {\n        this._plan.setWaypoints(waypoints);\n        return this;\n    },\n\n    spliceWaypoints: function () {\n        var removed = this._plan.spliceWaypoints.apply(this._plan, arguments);\n        return removed;\n    },\n\n    getPlan: function () {\n        return this._plan;\n    },\n\n    getRouter: function () {\n        return this._router;\n    },\n\n    _routeSelected: function (e) {\n        var route = (this._selectedRoute = e.route),\n            alternatives = this.options.showAlternatives && e.alternatives,\n            fitMode = this.options.fitSelectedRoutes,\n            fitBounds = (fitMode === 'smart' && !this._waypointsVisible()) || (fitMode !== 'smart' && fitMode);\n\n        this._updateLines({ route: route, alternatives: alternatives });\n\n        if (fitBounds) {\n            this._map.fitBounds(this._line.getBounds());\n        }\n\n        if (this.options.waypointMode === 'snap') {\n            this._plan.off('waypointschanged', this._onWaypointsChanged, this);\n            this.setWaypoints(route.waypoints);\n            this._plan.on('waypointschanged', this._onWaypointsChanged, this);\n        }\n    },\n\n    _waypointsVisible: function () {\n        var wps = this.getWaypoints(),\n            mapSize,\n            bounds,\n            boundsSize,\n            i,\n            p;\n\n        try {\n            mapSize = this._map.getSize();\n\n            for (i = 0; i < wps.length; i++) {\n                p = this._map.latLngToLayerPoint(wps[i].latLng);\n\n                if (bounds) {\n                    bounds.extend(p);\n                } else {\n                    bounds = L.bounds([p]);\n                }\n            }\n\n            boundsSize = bounds.getSize();\n            return (boundsSize.x > mapSize.x / 5 || boundsSize.y > mapSize.y / 5) && this._waypointsInViewport();\n        } catch (e) {\n            return false;\n        }\n    },\n\n    _waypointsInViewport: function () {\n        var wps = this.getWaypoints(),\n            mapBounds,\n            i;\n\n        try {\n            mapBounds = this._map.getBounds();\n        } catch (e) {\n            return false;\n        }\n\n        for (i = 0; i < wps.length; i++) {\n            if (mapBounds.contains(wps[i].latLng)) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    _updateLines: function (routes) {\n        var addWaypoints = this.options.addWaypoints !== undefined ? this.options.addWaypoints : true;\n        this._clearLines();\n\n        // add alternatives first so they lie below the main route\n        this._alternatives = [];\n        if (routes.alternatives)\n            routes.alternatives.forEach(function (alt, i) {\n                this._alternatives[i] = this.options.routeLine(\n                    alt,\n                    L.extend(\n                        {\n                            isAlternative: true,\n                        },\n                        this.options.altLineOptions || this.options.lineOptions\n                    )\n                );\n                this._alternatives[i].addTo(this._map);\n                this._hookAltEvents(this._alternatives[i]);\n            }, this);\n\n        this._line = this.options.routeLine(\n            routes.route,\n            L.extend(\n                {\n                    addWaypoints: addWaypoints,\n                    extendToWaypoints: this.options.waypointMode === 'connect',\n                },\n                this.options.lineOptions\n            )\n        );\n        this._line.addTo(this._map);\n        this._hookEvents(this._line);\n    },\n\n    _hookEvents: function (l) {\n        l.on(\n            'linetouched',\n            function (e) {\n                if (e.afterIndex < this.getWaypoints().length - 1) {\n                    this._plan.dragNewWaypoint(e);\n                }\n            },\n            this\n        );\n    },\n\n    _hookAltEvents: function (l) {\n        l.on(\n            'linetouched',\n            function (e) {\n                var alts = this._routes.slice();\n                var selected = alts.splice(e.target._route.routesIndex, 1)[0];\n                this.fire('routeselected', { route: selected, alternatives: alts });\n            },\n            this\n        );\n    },\n\n    _onWaypointsChanged: function (e) {\n        if (this.options.autoRoute) {\n            this.route({});\n        }\n        if (!this._plan.isReady()) {\n            this._clearLines();\n            this._clearAlts();\n        }\n        this.fire('waypointschanged', { waypoints: e.waypoints });\n    },\n\n    _setupRouteDragging: function () {\n        var timer = 0,\n            waypoints;\n\n        this._plan.on(\n            'waypointdrag',\n            L.bind(function (e) {\n                waypoints = e.waypoints;\n\n                if (!timer) {\n                    timer = setTimeout(\n                        L.bind(function () {\n                            this.route({\n                                waypoints: waypoints,\n                                geometryOnly: true,\n                                callback: L.bind(this._updateLineCallback, this),\n                            });\n                            timer = undefined;\n                        }, this),\n                        this.options.routeDragInterval\n                    );\n                }\n            }, this)\n        );\n        this._plan.on(\n            'waypointdragend',\n            function () {\n                if (timer) {\n                    clearTimeout(timer);\n                    timer = undefined;\n                }\n                this.route();\n            },\n            this\n        );\n    },\n\n    _updateLineCallback: function (err, routes) {\n        if (!err) {\n            routes = routes.slice();\n            var selected = routes.splice(this._selectedRoute.routesIndex, 1)[0];\n            this._updateLines({\n                route: selected,\n                alternatives: this.options.showAlternatives ? routes : [],\n            });\n        } else if (err.type !== 'abort') {\n            this._clearLines();\n        }\n    },\n\n    route: function (options) {\n        var ts = ++this._requestCount,\n            wps;\n\n        if (this._pendingRequest && this._pendingRequest.abort) {\n            this._pendingRequest.abort();\n            this._pendingRequest = null;\n        }\n\n        options = options || {};\n\n        if (this._plan.isReady()) {\n            if (this.options.useZoomParameter) {\n                options.z = this._map && this._map.getZoom();\n            }\n\n            wps = (options && options.waypoints) || this._plan.getWaypoints();\n            this.fire('routingstart', { waypoints: wps });\n            this._pendingRequest = this._router.route(\n                wps,\n                function (err, routes) {\n                    this._pendingRequest = null;\n\n                    if (options.callback) {\n                        return options.callback.call(this, err, routes);\n                    }\n\n                    // Prevent race among multiple requests,\n                    // by checking the current request's count\n                    // against the last request's; ignore result if\n                    // this isn't the last request.\n                    if (ts === this._requestCount) {\n                        this._clearLines();\n                        this._clearAlts();\n                        if (err && err.type !== 'abort') {\n                            this.fire('routingerror', { error: err });\n                            return;\n                        }\n\n                        routes.forEach(function (route, i) {\n                            route.routesIndex = i;\n                        });\n\n                        if (!options.geometryOnly) {\n                            this.fire('routesfound', { waypoints: wps, routes: routes });\n                            this.setAlternatives(routes);\n                        } else {\n                            var selectedRoute = routes.splice(0, 1)[0];\n                            this._routeSelected({ route: selectedRoute, alternatives: routes });\n                        }\n                    }\n                },\n                this,\n                options\n            );\n        }\n    },\n\n    _clearLines: function () {\n        if (this._line) {\n            this._map.removeLayer(this._line);\n            delete this._line;\n        }\n        if (this._alternatives && this._alternatives.length) {\n            for (var i in this._alternatives) {\n                this._map.removeLayer(this._alternatives[i]);\n            }\n            this._alternatives = [];\n        }\n    },\n});\n","import OSRMv1 from './osrm-v1';\n\n/**\n * Works against OSRM's new API in version 5.0; this has\n * the API version v1.\n */\nexport default OSRMv1.extend({\n    options: {\n        serviceUrl: 'https://api.mapbox.com/directions/v5',\n        profile: 'mapbox/driving',\n        useHints: false,\n    },\n\n    initialize: function (accessToken, options) {\n        L.Routing.OSRMv1.prototype.initialize.call(this, options);\n        this.options.requestParameters = this.options.requestParameters || {};\n        /* jshint camelcase: false */\n        this.options.requestParameters.access_token = accessToken;\n        /* jshint camelcase: true */\n    },\n});\n","export default L.Control.extend({\n    options: {\n        header: 'Routing error',\n        formatMessage: function (error) {\n            if (error.status < 0) {\n                return 'Calculating the route caused an error. Technical description follows: <code><pre>' + error.message + '</pre></code';\n            } else {\n                return 'The route could not be calculated. ' + error.message;\n            }\n        },\n    },\n\n    initialize: function (routingControl, options) {\n        L.Control.prototype.initialize.call(this, options);\n        routingControl\n            .on(\n                'routingerror',\n                L.bind(function (e) {\n                    if (this._element) {\n                        this._element.children[1].innerHTML = this.options.formatMessage(e.error);\n                        this._element.style.visibility = 'visible';\n                    }\n                }, this)\n            )\n            .on(\n                'routingstart',\n                L.bind(function () {\n                    if (this._element) {\n                        this._element.style.visibility = 'hidden';\n                    }\n                }, this)\n            );\n    },\n\n    onAdd: function () {\n        var header, message;\n\n        this._element = L.DomUtil.create('div', 'leaflet-bar leaflet-routing-error');\n        this._element.style.visibility = 'hidden';\n\n        header = L.DomUtil.create('h3', null, this._element);\n        message = L.DomUtil.create('span', null, this._element);\n\n        header.innerHTML = this.options.header;\n\n        return this._element;\n    },\n\n    onRemove: function () {\n        delete this._element;\n    },\n});\n","import Control from './control';\nimport Itinerary from './itinerary';\nimport Line from './line';\nimport OSRMv1 from './osrm-v1';\nimport Plan from './plan';\nimport Waypoint from './waypoint';\nimport Autocomplete from './autocomplete';\nimport Formatter from './formatter';\nimport GeocoderElement from './geocoder-element';\nimport Localization from './localization';\nimport ItineraryBuilder from './itinerary-builder';\nimport Mapbox from './mapbox';\nimport ErrorControl from './error-control';\n\nconst legacyRouting = {\n    control: function (options) {\n        return new Control(options);\n    },\n    itinerary: function (options) {\n        return Itinerary(options);\n    },\n    line: function (route, options) {\n        return new Line(route, options);\n    },\n    plan: function (waypoints, options) {\n        return new Plan(waypoints, options);\n    },\n    waypoint: function (latLng, name, options) {\n        return new Waypoint(latLng, name, options);\n    },\n    osrmv1: function (options) {\n        return new OSRMv1(options);\n    },\n    localization: function (options) {\n        return new Localization(options);\n    },\n    formatter: function (options) {\n        return new Formatter(options);\n    },\n    geocoderElement: function (wp, i, nWps, plan) {\n        return new GeocoderElement(wp, i, nWps, plan);\n    },\n    itineraryBuilder: function (options) {\n        return new ItineraryBuilder(options);\n    },\n    mapbox: function (accessToken, options) {\n        return new Mapbox(accessToken, options);\n    },\n    errorControl: function (routingControl, options) {\n        return new ErrorControl(routingControl, options);\n    },\n    autocomplete: function (elem, callback, context, options) {\n        return new Autocomplete(elem, callback, context, options);\n    },\n};\n\nconst Routing = {\n    Control: Control,\n    Itinerary: Itinerary,\n    Line: Line,\n    OSRMv1: OSRMv1,\n    Plan: Plan,\n    Waypoint: Waypoint,\n    Autocomplete: Autocomplete,\n    Formatter: Formatter,\n    GeocoderElement: GeocoderElement,\n    Localization: Localization,\n    ItineraryBuilder: ItineraryBuilder,\n    ...legacyRouting,\n};\n\nexport { Control, Itinerary, Line, OSRMv1, Plan, Waypoint, Autocomplete, Formatter, GeocoderElement, Localization, ItineraryBuilder };\nexport default Routing;\n"],"names":["spanish","directions","N","NE","E","SE","S","SW","W","NW","SlightRight","Right","SharpRight","SlightLeft","Left","SharpLeft","Uturn","instructions","Head","Continue","TurnAround","WaypointReached","Roundabout","DestinationReached","Fork","Merge","OnRamp","OffRamp","EndOfRoad","Onto","formatOrder","n","ui","startPlaceholder","viaPlaceholder","endPlaceholder","units","meters","kilometers","yards","miles","hours","minutes","seconds","Localization","L","Class","extend","initialize","langs","this","_langs","Util","isArray","slice","i","l","length","generalizedCode","exec","Error","localize","keys","dict","value","j","nKeys","Localization$1","en","suffix","de","sv","es","sp","nl","fr","it","pt","sk","el","ca","ru","pl","uk","Formatter","options","unitNames","language","roundingSensitivity","distanceTemplate","setOptions","_localization","formatDistance","d","sensitivity","v","data","un","simpleRounding","round","bind","_round","unit","toFixed","template","s","pow10","Math","pow","floor","p","formatTime","t","formatInstruction","instr","undefined","text","capitalize","_getInstructionTemplate","exitStr","exit","dir","direction","modifier","getIconName","type","charAt","toUpperCase","substring","strings","road","ItineraryBuilder","containerClassName","createContainer","className","table","DomUtil","create","colgroup","createStepsContainer","createStep","distance","icon","steps","span","td","row","appendChild","document","createTextNode","Itinerary","Control","includes","Evented","prototype","Mixin","Events","pointMarkerStyle","radius","color","fillColor","opacity","fillOpacity","summaryTemplate","timeTemplate","alternativeClassName","minimizedClassName","itineraryClassName","totalDistanceRoundingSensitivity","show","collapsible","collapseBtn","itinerary","collapseBtnClass","DomEvent","on","_toggle","_container","insertBefore","firstChild","_formatter","formatter","_itineraryBuilder","itineraryBuilder","onAdd","map","getSize","x","_altContainer","createAlternativesContainer","disableClickPropagation","addListener","e","stopPropagation","onRemove","setAlternatives","routes","alt","altDiv","_clearAlts","_routes","_createAlternative","_altElements","push","_selectRoute","route","alternatives","removeClass","hide","addClass","hasClass","name","summary","totalDistance","time","totalTime","innerHTML","_onAltClicked","_selectAlt","_createItineraryContainer","removeChild","r","step","container","index","_addRowListeners","coordinates","coordinate","_marker","circleMarker","addTo","_map","removeLayer","panTo","altElem","target","window","event","srcElement","parentElement","indexOf","alts","splice","fire","classFn","routesIndex","scrollTop","stop","Line","LayerGroup","styles","weight","missingRouteStyles","dashArray","addWaypoints","extendToWaypoints","missingRouteTolerance","call","_route","_extendToWaypoints","_addSegment","getBounds","latLngBounds","_findWaypointIndices","wps","inputWaypoints","indices","_findClosestRoutePoint","latLng","latlng","minIndex","minDist","Number","MAX_VALUE","distanceTo","wpLatLng","routeCoord","wpIndices","_getWaypointIndices","coords","mouselistener","polyline","addLayer","_onLineTouched","_findNearestWpBefore","afterIndex","_wpIndices","waypointIndices","Autocomplete","timeout","blurTimeout","noResultsMessage","elem","callback","context","_elem","_resultFn","resultFn","resultContext","_autocomplete","autocompleteFn","autocompleteContext","_selectFn","_resultTable","_keyPressed","_keyDown","_isOpen","close","_open","rect","getBoundingClientRect","scrollX","pageXOffset","documentElement","body","parentNode","scrollLeft","scrollY","pageYOffset","style","left","top","bottom","width","right","_setResults","results","tr","_selection","_results","setAttribute","formatGeocoderResult","preventDefault","_createClickListener","_select","resultSelected","_resultSelected","blur","_lastCompletedText","keyCode","parseInt","getAttribute","_complete","activeElement","_timer","clearTimeout","setTimeout","_unselect","sel","completeFn","trySelect","completeResults","selectInputText","input","setSelectionRange","select","GeocoderElement","createGeocoder","nWps","remove","disabled","closeButton","geocoderPlaceholder","numberWaypoints","geocoderElement","viaNumber","geocoderClass","waypointNameFallback","ns","lat","ew","lng","abs","toString","maxGeocoderTolerance","autocompleteOptions","wp","g","geocoderInput","_element","_waypoint","update","waypoint","center","geocoder","geocode","suggest","getContainer","setValue","force","wpCoords","reverse","rs","_update","focus","Waypoint","allowUTurn","BaseClass","Layer","dragStyles","draggableWaypoints","routeWhileDragging","reverseWaypoints","addButtonClassName","createGeocoderElement","plan","createMarker","draggable","marker","geocodersClassName","waypoints","_waypoints","setWaypoints","isReady","getWaypoints","args","concat","spliceWaypoints","apply","arguments","hasOwnProperty","_updateMarkers","_fireChanged","_removeMarkers","_newWp","lines","createGeocoders","addWpBtn","reverseBtn","_geocoderContainer","_geocoderElems","_updateGeocoders","_createGeocoder","_focusGeocoder","waypointIndex","geocoderElem","elems","_markers","m","_hookWaypointEvents","Array","shift","nRemoved","added","trackMouseMove","mouseMove","mouseUp","eventLatLng","getLatLng","dragStart","drag","dragEnd","setLatLng","dragging","enable","off","disable","dragNewWaypoint","newWpIndex","_dragNewWaypoint","initialLatLng","prevWp","nextWp","draggingEnabled","enabled","latLngs","getLatLngs","setLatLngs","osrmTextInstructions","getOsrmTextInstructions","OSRMv1","serviceUrl","profile","routingOptions","polylinePrecision","useHints","suppressDemoServerWarning","_hints","locations","console","warn","url","timer","xhr","timedOut","buildRouteUrl","requestParameters","getParamString","status","message","corslite","err","resp","error","abort","statusText","responseText","JSON","parse","ex","_routeDone","requiresMoreDetail","zoom","bounds","properties","isSimplified","contains","response","actualWaypoints","code","_toWaypoints","_convertRoute","geometryOnly","simplifyGeometry","_saveHintData","responseRoute","leg","geometry","stepToText","result","duration","legNames","legCount","legs","hasSteps","compile","_decodePolyline","_maneuverToInstructionType","maneuver","_maneuverToModifier","legIndex","_bearingToDirection","bearing_after","mode","join","bearing","lastLeg","_camelCase","_leftOrRight","words","split","routeGeometry","cs","decode","vias","viaLoc","location","locs","hints","_locationKey","allowUTurns","loc","hint","fitSelectedRoutes","routeLine","autoRoute","routeDragInterval","waypointMode","showAlternatives","defaultErrorHandler","_router","router","_plan","Plan","_requestCount","_routeSelected","_onWaypointsChanged","_setupRouteDragging","_onZoomEnd","_selectedRoute","getZoom","_updateLineCallback","_line","_alternatives","len","removed","getPlan","getRouter","fitMode","fitBounds","_waypointsVisible","_updateLines","mapSize","boundsSize","latLngToLayerPoint","y","_waypointsInViewport","mapBounds","_clearLines","forEach","isAlternative","altLineOptions","lineOptions","_hookAltEvents","_hookEvents","selected","ts","_pendingRequest","useZoomParameter","z","selectedRoute","accessToken","Routing","access_token","ErrorControl","header","formatMessage","routingControl","children","visibility","legacyRouting","control","line","osrmv1","localization","mapbox","Mapbox","errorControl","autocomplete"],"mappings":"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"}
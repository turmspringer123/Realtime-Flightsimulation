var eventer=function(t){"use strict";var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},r(t,n)};function n(t){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&t[r],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,r){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,e,o=n.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(i=o.next()).done;)u.push(i.value)}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return u}function e(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(i(arguments[r]));return t}var o=function(t){function n(r){var i,e="EventError: "+r+"}";return i=t.call(this,e)||this,Object.setPrototypeOf(i,n.prototype),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}(n,t),n}(Error),u=function(t,r){return{token:t+"-"+r,ownerIndex:t,id:r}},f=0,a=function(t,r){return new o("Event listener with "+t.token+" id does not exist at Eventer with "+r+" id.")},c=function(){function t(){this.id=++f,this.lastEventIndex=0,this.topics=new Map}return t.prototype.on=function(t,r,n){var i=this.topics.get(t),e=n||u(this.id,++this.lastEventIndex);return i?i.set(e,r):this.topics.set(t,new Map([[e,r]])),e},t.prototype.has=function(t,r){var e,u;if(r)return(s=this.topics.get(r))?(h=s.get(t))||a(t,this.id):new o("Eventer with "+t.ownerIndex+" does not have "+r+".");try{for(var f=n(this.topics),c=f.next();!c.done;c=f.next()){var s,h,v=i(c.value,2);v[0];if(h=(s=v[1]).get(t))return h}}catch(t){e={error:t}}finally{try{c&&!c.done&&(u=f.return)&&u.call(f)}finally{if(e)throw e.error}}return a(t,this.id)},t.prototype.off=function(t,r){var e,o;if(r)return!(!(a=this.topics.get(r))||!a.delete(t));try{for(var u=n(this.topics),f=u.next();!f.done;f=u.next()){var a,c=i(f.value,2);c[0];if((a=c[1]).delete(t))return!0}}catch(t){e={error:t}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}return!1},t.prototype.allOff=function(){return this.topics.clear(),this},t.prototype.topicOff=function(t){return this.topics.delete(t)},t.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.topics.get(t),o=0;if(i){var u=new Map(i);u.forEach((function(t){t.apply(void 0,e(r)),o++}))}return o},t.prototype.listeners=function(t){var r=this.topics.get(t);return r||new Map},t}();return t.EventError=o,t.Eventer=c,t.Token=u,Object.defineProperty(t,"t",{value:!0}),t}({});
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SimConnectConnection = void 0;
const events_1 = require("events");
const SimConnectDataType_1 = require("./enums/SimConnectDataType");
const RawBuffer_1 = require("./RawBuffer");
const connectionParameters_1 = require("./connectionParameters");
const TextType_1 = require("./enums/TextType");
const Protocol_1 = require("./enums/Protocol");
const SimConnectSocket_1 = require("./SimConnectSocket");
const recv_1 = require("./recv");
const DataSetFlag_1 = require("./flags/DataSetFlag");
const SimConnectConstants_1 = require("./SimConnectConstants");
const RecvFacilityData_1 = require("./recv/RecvFacilityData");
const RecvFacilityDataEnd_1 = require("./recv/RecvFacilityDataEnd");
const RecvFacilityMinimalList_1 = require("./recv/RecvFacilityMinimalList");
const RecvEventEx1_1 = require("./recv/RecvEventEx1");
const RECEIVE_SIZE = 65536;
const openPacketData = {
    [Protocol_1.Protocol.FSX_RTM]: {
        major: 0,
        minor: 0,
        buildMajor: 60905,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.FSX_SP1]: {
        major: 10,
        minor: 0,
        buildMajor: 61355,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.FSX_SP2]: {
        major: 10,
        minor: 0,
        buildMajor: 61259,
        buildMinor: 0,
        alias: 'XSF',
    },
    [Protocol_1.Protocol.KittyHawk]: {
        major: 11,
        minor: 0,
        buildMajor: 62651,
        buildMinor: 3,
        alias: 'HK', // "Hawk" + "Kitty"?
    },
};
var SimConnectError;
(function (SimConnectError) {
    SimConnectError["UnknownHost"] = "Unknown host";
    SimConnectError["GuidInvalidSize"] = "GUID is not 16 bytes long";
    SimConnectError["Unimplemented"] = "Not yet implemented";
    SimConnectError["VersionMismatch"] = "Invalid version2";
    SimConnectError["PacketTooLarge"] = "Packet too large";
    SimConnectError["InvalidRead"] = "Invalid read";
    SimConnectError["InvalidProtocol"] = "Invalid protocol version";
    SimConnectError["BadVersion"] = "Unsupported protocol version";
})(SimConnectError || (SimConnectError = {}));
class SimConnectConnection extends events_1.EventEmitter {
    constructor(appName, protocolVersion) {
        super();
        this._appName = appName;
        this._packetsSent = 0;
        this._ourProtocol = protocolVersion;
        this._writeBuffer = new RawBuffer_1.RawBuffer(RECEIVE_SIZE);
        this._openTimeout = null;
        this._clientSocket = new SimConnectSocket_1.SimConnectSocket();
        this._clientSocket.on('connect', this._open.bind(this));
        this._clientSocket.on('data', this._handleMessage.bind(this));
        this._clientSocket.on('close', () => this.emit('close'));
        this._clientSocket.on('error', (connectError) => this.emit('error', connectError));
    }
    on(event, listener) {
        return super.on(event, listener);
    }
    emit(event, ...args) {
        return super.emit(event, ...args);
    }
    connect(options) {
        if (options && 'host' in options && 'port' in options) {
            this._clientSocket.connect(Object.assign({ type: 'ipv4' }, options));
        }
        else if (options && 'remote' in options) {
            // For backwards-compatibility
            this._clientSocket.connect(Object.assign({ type: 'ipv4' }, options.remote));
        }
        else {
            (0, connectionParameters_1.autodetectServerAddress)(options === null || options === void 0 ? void 0 : options.simConnectCfgIndex).then((address) => {
                this._clientSocket.connect(address);
            });
        }
    }
    addToDataDefinition(dataDefinitionId, datumName, unitsName, dataType, epsilon, datumId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeString256(datumName);
        this._writeBuffer.writeString256(unitsName);
        this._writeBuffer.writeInt(dataType === undefined ? SimConnectDataType_1.SimConnectDataType.FLOAT64 : dataType);
        this._writeBuffer.writeFloat(epsilon || 0);
        this._writeBuffer.writeInt(datumId === undefined ? SimConnectConstants_1.SimConnectConstants.UNUSED : datumId);
        this._sendPacket(0x0c);
    }
    requestDataOnSimObject(dataRequestId, dataDefinitionId, objectId, period, flags, origin, interval, limit) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeInt(period);
        this._writeBuffer.writeInt(flags || 0);
        this._writeBuffer.writeInt(origin || 0);
        this._writeBuffer.writeInt(interval || 0);
        this._writeBuffer.writeInt(limit || 0);
        this._sendPacket(0x0e);
    }
    clearDataDefinition(dataDefinitionId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._sendPacket(0x0d);
    }
    requestDataOnSimObjectType(dataRequestId, dataDefinitionId, radiusMeters, type) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeInt(radiusMeters);
        this._writeBuffer.writeInt(type);
        this._sendPacket(0x0f);
    }
    subscribeToSystemEvent(clientEventId, eventName) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeString256(eventName);
        this._sendPacket(0x17);
    }
    unsubscribeFromSystemEvent(clientEventId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientEventId);
        this._sendPacket(0x18);
    }
    requestSystemState(dataRequestId, state) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeString256(state);
        this._sendPacket(0x35);
    }
    setSystemState(state, paramInt, paramFloat, paramString) {
        this._resetBuffer();
        this._writeBuffer.writeString256(state);
        this._writeBuffer.writeInt(paramInt);
        this._writeBuffer.writeFloat(paramFloat);
        this._writeBuffer.writeString256(paramString);
        this._writeBuffer.writeInt(0);
        this._sendPacket(0x36);
    }
    addClientEventToNotificationGroup(notificationGroupId, clientEventId, maskable) {
        this._resetBuffer();
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeInt(maskable ? 1 : 0);
        this._sendPacket(0x07);
    }
    mapClientEventToSimEvent(clientEventId, eventName) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeString256(eventName || '');
        this._sendPacket(0x04);
    }
    transmitClientEvent(objectId, clientEventId, data, notificationGroupId, flags) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeInt(data);
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(flags);
        this._sendPacket(0x05);
    }
    setSystemEventState(clientEventId, state) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeInt(state ? 1 : 0);
        this._sendPacket(0x06);
    }
    removeClientEvent(notificationGroupId, clientEventId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(clientEventId);
        this._sendPacket(0x08);
    }
    setNotificationGroupPriority(notificationGroupId, priority) {
        this._resetBuffer();
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(priority);
        this._sendPacket(0x09);
    }
    clearNotificationGroup(notificationGroupId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(notificationGroupId);
        this._sendPacket(0x0a);
    }
    requestNotificationGroup(notificationGroupId, reserved, flags) {
        this._resetBuffer();
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(reserved);
        this._writeBuffer.writeInt(flags);
        this._sendPacket(0x0b);
    }
    setDataOnSimObject(dataDefinitionId, objectId, data) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeInt(objectId);
        if (data instanceof Array) {
            this._writeBuffer.writeInt(DataSetFlag_1.DataSetFlag.DEFAULT);
            this._writeBuffer.writeInt(data.length);
            this._writeBuffer.writeInt(0); // Just a placeholder for array unit size
            const arrayStartPos = this._writeBuffer.getOffset();
            data.forEach(simConnectData => {
                simConnectData.write(this._writeBuffer);
            });
            const arrayTotalSize = this._writeBuffer.getOffset() - arrayStartPos;
            const unitSize = arrayTotalSize / data.length;
            this._writeBuffer.writeInt(unitSize, arrayStartPos - 4); // Replace placeholder
        }
        else {
            const { tagged, arrayCount, buffer } = data;
            this._writeBuffer.writeInt(tagged ? DataSetFlag_1.DataSetFlag.TAGGED : DataSetFlag_1.DataSetFlag.DEFAULT);
            this._writeBuffer.writeInt(arrayCount === 0 ? 1 : arrayCount);
            const bytes = buffer.getBuffer();
            this._writeBuffer.writeInt(bytes.length);
            this._writeBuffer.write(bytes);
        }
        this._sendPacket(0x10);
    }
    mapInputEventToClientEvent(inputGroupId, inputDefinition, clientEventDownID, downValue, clientEventUpID, upValue, maskable) {
        this._resetBuffer();
        this._writeBuffer.writeInt(inputGroupId);
        this._writeBuffer.writeString256(inputDefinition);
        this._writeBuffer.writeInt(clientEventDownID);
        this._writeBuffer.writeInt(downValue || 0);
        this._writeBuffer.writeInt(clientEventUpID === undefined ? SimConnectConstants_1.SimConnectConstants.UNUSED : clientEventUpID);
        this._writeBuffer.writeInt(upValue || 0);
        this._writeBuffer.writeInt(maskable ? 1 : 0);
        this._sendPacket(0x11);
    }
    setInputGroupPriority(inputGroupId, priority) {
        this._resetBuffer();
        this._writeBuffer.writeInt(inputGroupId);
        this._writeBuffer.writeInt(priority);
        this._sendPacket(0x12);
    }
    removeInputEvent(inputGroupId, inputDefinition) {
        this._resetBuffer();
        this._writeBuffer.writeInt(inputGroupId);
        this._writeBuffer.writeString256(inputDefinition);
        this._sendPacket(0x13);
    }
    clearInputGroup(inputGroupId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(inputGroupId);
        this._sendPacket(0x14);
    }
    setInputGroupState(inputGroupId, state) {
        this._resetBuffer();
        this._writeBuffer.writeInt(inputGroupId);
        this._writeBuffer.writeInt(state ? 1 : 0);
        this._sendPacket(0x15);
    }
    requestReservedKey(clientEventId, keyChoice1, keyChoice2, keyChoice3) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeString30(keyChoice1 || '');
        this._writeBuffer.writeString30(keyChoice2 || '');
        this._writeBuffer.writeString30(keyChoice3 || '');
        this._sendPacket(0x16);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRequestInterpolatedObservation(dataRequestId, lat, lon, alt) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeFloat(lat);
        this._writeBuffer.writeFloat(lon);
        this._writeBuffer.writeFloat(alt);
        this._sendPacket(0x19);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRequestObservationAtStation(dataRequestId, ICAO) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeString(ICAO, 5); // ICAO is 4 chars, null terminated
        this._sendPacket(0x1a);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRequestObservationAtNearestStation(dataRequestId, lat, lon) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeFloat(lat);
        this._writeBuffer.writeFloat(lon);
        this._sendPacket(0x1b);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherCreateStation(dataRequestId, ICAO, name, lat, lon, alt) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeString(ICAO, 5);
        this._writeBuffer.writeString(name, 256);
        this._writeBuffer.writeFloat(lat);
        this._writeBuffer.writeFloat(lon);
        this._writeBuffer.writeFloat(alt);
        this._sendPacket(0x1c);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRemoveStation(dataRequestId, ICAO) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeString(ICAO, 5);
        this._sendPacket(0x1d);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetObservation(seconds, metar) {
        this._resetBuffer();
        this._writeBuffer.writeInt(seconds);
        this._writeBuffer.writeString(metar);
        this._writeBuffer.writeByte(0); // null terminated
        this._sendPacket(0x1e);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetModeServer(port, seconds) {
        this._resetBuffer();
        this._writeBuffer.writeInt(port);
        this._writeBuffer.writeInt(seconds);
        this._sendPacket(0x1f);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetModeTheme(themeName) {
        this._resetBuffer();
        this._writeBuffer.writeString(themeName, 256);
        this._sendPacket(0x20);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetModeGlobal() {
        this._resetBuffer();
        this._sendPacket(0x21);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetModeCustom() {
        this._resetBuffer();
        this._sendPacket(0x22);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherSetDynamicUpdateRate(rate) {
        this._resetBuffer();
        this._writeBuffer.writeInt(rate);
        this._sendPacket(0x23);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRequestCloudState(dataRequestId, minLat, minLon, minAlt, maxLat, maxLon, maxAlt, flags) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeFloat(minLat);
        this._writeBuffer.writeFloat(minLon);
        this._writeBuffer.writeFloat(minAlt);
        this._writeBuffer.writeFloat(maxLat);
        this._writeBuffer.writeFloat(maxLon);
        this._writeBuffer.writeFloat(maxAlt);
        this._writeBuffer.writeInt(flags || 0);
        this._sendPacket(0x24);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherCreateThermal(dataRequestId, lat, lon, alt, radius, height, coreRate, coreTurbulence, sinkRate, sinkTurbulence, coreSize, coreTransitionSize, sinkLayerSize, sinkTransitionSize) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeFloat(lat);
        this._writeBuffer.writeFloat(lon);
        this._writeBuffer.writeFloat(alt);
        this._writeBuffer.writeFloat(radius);
        this._writeBuffer.writeFloat(height);
        this._writeBuffer.writeFloat(coreRate);
        this._writeBuffer.writeFloat(coreTurbulence);
        this._writeBuffer.writeFloat(sinkRate);
        this._writeBuffer.writeFloat(sinkTurbulence);
        this._writeBuffer.writeFloat(coreSize);
        this._writeBuffer.writeFloat(coreTransitionSize);
        this._writeBuffer.writeFloat(sinkLayerSize);
        this._writeBuffer.writeFloat(sinkTransitionSize);
        this._sendPacket(0x25);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    weatherRemoveThermal(objectId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._sendPacket(0x26);
    }
    aICreateParkedATCAircraft(containerTitle, tailNumber, airportID, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeString(containerTitle, 256);
        this._writeBuffer.writeString(tailNumber, 12);
        this._writeBuffer.writeString(airportID, 5);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x27);
    }
    aICreateEnrouteATCAircraft(containerTitle, tailNumber, flightNumber, flightPlanPath, flightPlanPosition, touchAndGo, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeString(containerTitle, 256);
        this._writeBuffer.writeString(tailNumber, 12);
        this._writeBuffer.writeInt(flightNumber);
        this._writeBuffer.writeString(flightPlanPath, 260);
        this._writeBuffer.writeDouble(flightPlanPosition);
        this._writeBuffer.writeInt(touchAndGo ? 1 : 0);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x28);
    }
    aICreateNonATCAircraft(containerTitle, tailNumber, initPos, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeString(containerTitle, 256);
        this._writeBuffer.writeString(tailNumber, 12);
        initPos.write(this._writeBuffer);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x29);
    }
    aICreateSimulatedObject(containerTitle, initPos, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeString(containerTitle, 256);
        initPos.write(this._writeBuffer);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x2a);
    }
    aIReleaseControl(objectId, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x2b);
    }
    aIRemoveObject(objectId, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x2c);
    }
    aISetAircraftFlightPlan(objectId, flightPlanPath, dataRequestId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeString(flightPlanPath, 260);
        this._writeBuffer.writeInt(dataRequestId);
        this._sendPacket(0x2d);
    }
    executeMissionAction(guidInstanceId) {
        if (guidInstanceId.length !== 16)
            throw Error(SimConnectError.GuidInvalidSize);
        this._resetBuffer();
        this._writeBuffer.write(guidInstanceId);
        this._sendPacket(0x2e);
    }
    completeCustomMissionAction(guidInstanceId) {
        if (guidInstanceId.length !== 16)
            throw Error(SimConnectError.GuidInvalidSize); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.write(guidInstanceId);
        this._sendPacket(0x2f);
    }
    // eslint-disable-next-line
    requestResponseTimes(nCount) {
        // TODO: implement simconnect function
        // this one needs special care: it send a packet (id 0x03, one param : nCount)
        // and receive 8 float data (with response id 0x00010001) . Some calculations
        // has to be done
        throw Error(SimConnectError.Unimplemented);
    }
    cameraSetRelative6DOF(deltaX, deltaY, deltaZ, pitchDeg, bankDeg, headingDeg) {
        this._resetBuffer();
        this._writeBuffer.writeFloat(deltaX);
        this._writeBuffer.writeFloat(deltaY);
        this._writeBuffer.writeFloat(deltaZ);
        this._writeBuffer.writeFloat(pitchDeg);
        this._writeBuffer.writeFloat(bankDeg);
        this._writeBuffer.writeFloat(headingDeg);
        this._sendPacket(0x30);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    menuAddItem(menuItem, menuEventId, data) {
        this._resetBuffer();
        this._writeBuffer.writeString(menuItem, 256);
        this._writeBuffer.writeInt(menuEventId);
        this._writeBuffer.writeInt(data);
        this._sendPacket(0x31);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    menuDeleteItem(menuEventId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(menuEventId);
        this._sendPacket(0x32);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    menuAddSubItem(menuEventId, menuItem, subMenuEventId, data) {
        this._resetBuffer();
        this._writeBuffer.writeInt(menuEventId);
        this._writeBuffer.writeString(menuItem, 256);
        this._writeBuffer.writeInt(subMenuEventId);
        this._writeBuffer.writeInt(data);
        this._sendPacket(0x33);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    menuDeleteSubItem(menuEventId, subMenuEventId) {
        // packet size 0x18
        // packet id 0x34
        this._resetBuffer();
        this._writeBuffer.writeInt(menuEventId);
        this._writeBuffer.writeInt(subMenuEventId);
        this._sendPacket(0x34);
    }
    mapClientDataNameToID(clientDataName, clientDataId) {
        this._resetBuffer();
        this._writeBuffer.writeString(clientDataName, 256);
        this._writeBuffer.writeInt(clientDataId);
        this._sendPacket(0x37);
    }
    createClientData(clientDataId, size, readOnly) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientDataId);
        this._writeBuffer.writeInt(size);
        this._writeBuffer.writeInt(readOnly ? 1 : 0);
        this._sendPacket(0x38);
    }
    addToClientDataDefinition(dataDefinitionId, offset, sizeOrType, epsilon, datumId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeInt(offset);
        this._writeBuffer.writeInt(sizeOrType);
        this._writeBuffer.writeFloat(epsilon || 0);
        this._writeBuffer.writeInt(datumId || 0);
        this._sendPacket(0x39);
    }
    clearClientDataDefinition(dataDefinitionId) {
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._sendPacket(0x3a);
    }
    requestClientData(clientDataId, dataRequestId, clientDataDefineID, period, flags, origin, interval, limit) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(clientDataId);
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeInt(clientDataDefineID);
        this._writeBuffer.writeInt(period);
        this._writeBuffer.writeInt(flags);
        this._writeBuffer.writeInt(origin || 0);
        this._writeBuffer.writeInt(interval || 0);
        this._writeBuffer.writeInt(limit || 0);
        this._sendPacket(0x3b);
    }
    setClientData(clientDataId, clientDataDefineID, reserved, arrayCount, unitSize, data) {
        this._resetBuffer();
        this._writeBuffer.writeInt(clientDataId);
        this._writeBuffer.writeInt(clientDataDefineID);
        this._writeBuffer.writeInt(0); // do not use arg
        this._writeBuffer.writeInt(1); // do not use arg
        // TODO: add support for arrays https://github.com/mharj/jsimconnect/blob/master/src/flightsim/simconnect/SimConnect.java#L3803
        this._writeBuffer.writeInt(unitSize);
        this._writeBuffer.write(data);
        this._sendPacket(0x3c);
    }
    flightLoad(fileName) {
        // packet size 0x114
        // packet id 0x3D
        this._resetBuffer();
        this._writeBuffer.writeString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        this._sendPacket(0x3d);
    }
    flightSave(fileName, title, description, flags // eslint-disable-line
    ) {
        // packet size 0x918 (SP1), 0xA1C (SP2)
        // packet id 0x3E
        this._resetBuffer();
        this._writeBuffer.writeString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        if (this._ourProtocol >= Protocol_1.Protocol.FSX_SP2) {
            this._writeBuffer.writeString(title === null ? fileName : title, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        }
        this._writeBuffer.writeString(description, 2048);
        this._writeBuffer.writeInt(SimConnectConstants_1.SimConnectConstants.UNUSED);
        this._sendPacket(0x3e);
    }
    flightPlanLoad(fileName) {
        // packet size 0x114
        // packet id 0x3F
        this._resetBuffer();
        this._writeBuffer.writeString(fileName, SimConnectConstants_1.SimConnectConstants.MAX_PATH);
        this._sendPacket(0x3f);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    text(type, timeSeconds, clientEventId, message) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        // packet id 0x40
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeFloat(timeSeconds);
        this._writeBuffer.writeInt(clientEventId);
        if (message !== null && message.length > 0) {
            this._writeBuffer.writeInt(message.length + 1);
            this._writeBuffer.writeString(message);
        }
        else {
            this._writeBuffer.writeInt(1);
        }
        this._writeBuffer.writeByte(0);
        this._sendPacket(0x40);
    }
    /**
     * @deprecated since MSFS (KittyHawk)
     */
    menu(timeSeconds, clientEventId, title, prompt, ...items) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        // packet id 0x40
        this._resetBuffer();
        this._writeBuffer.writeInt(TextType_1.TextType.MENU);
        this._writeBuffer.writeFloat(timeSeconds);
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeInt(0); // size, will be set later
        if (!title && !prompt && items.length === 0) {
            this._writeBuffer.writeByte(0);
        }
        else if (title && prompt) {
            this._writeBuffer.writeString(title);
            this._writeBuffer.writeByte(0);
            this._writeBuffer.writeString(prompt);
            this._writeBuffer.writeByte(0);
            items.forEach(s => {
                this._writeBuffer.writeString(s);
                this._writeBuffer.writeByte(0);
            });
        }
        // set size
        this._writeBuffer.writeInt(this._writeBuffer.getOffset() - 32, 28);
        this._sendPacket(0x40);
    }
    subscribeToFacilities(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        // ID 0x41
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeInt(clientEventId);
        this._sendPacket(0x41);
    }
    subscribeToFacilitiesEx1(type, newElemInRangeRequestID, oldElemOutRangeRequestID) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeInt(newElemInRangeRequestID);
        this._writeBuffer.writeInt(oldElemOutRangeRequestID);
        this._sendPacket(0x47);
    }
    unSubscribeToFacilities(type) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        // ID 0x42
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._sendPacket(0x42);
    }
    unSubscribeToFacilitiesEx1(type, unsubscribeNewInRange, unsubscribeOldOutRange) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeString(unsubscribeNewInRange ? '1' : '0', 1);
        this._writeBuffer.writeString(unsubscribeOldOutRange ? '1' : '0', 1);
        this._sendPacket(0x48);
    }
    requestFacilitiesList(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.FSX_SP1)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeInt(clientEventId);
        this._sendPacket(0x43);
    }
    requestFacilitiesListEx1(type, clientEventId) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion); // $NON-NLS-1$
        this._resetBuffer();
        this._writeBuffer.writeInt(type);
        this._writeBuffer.writeInt(clientEventId);
        this._sendPacket(0x49);
    }
    transmitClientEventEx(objectId, clientEventId, notificationGroupId, flags, data0 = 0, data1 = 0, data2 = 0, data3 = 0, data4 = 0) {
        this._resetBuffer();
        this._writeBuffer.writeInt(objectId);
        this._writeBuffer.writeInt(clientEventId);
        this._writeBuffer.writeInt(notificationGroupId);
        this._writeBuffer.writeInt(flags);
        this._writeBuffer.writeInt(data0);
        this._writeBuffer.writeInt(data1);
        this._writeBuffer.writeInt(data2);
        this._writeBuffer.writeInt(data3);
        this._writeBuffer.writeInt(data4);
        this._sendPacket(0x44);
    }
    addToFacilityDefinition(dataDefinitionId, fieldName) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeString256(fieldName);
        this._sendPacket(0x45);
    }
    requestFacilityData(dataDefinitionId, dataRequestId, icao, region, type) {
        if (this._ourProtocol < Protocol_1.Protocol.KittyHawk)
            throw Error(SimConnectError.BadVersion);
        this._resetBuffer();
        this._writeBuffer.writeInt(dataDefinitionId);
        this._writeBuffer.writeInt(dataRequestId);
        this._writeBuffer.writeString(icao, 16);
        this._writeBuffer.writeString(region || '', 4);
        if (type === undefined) {
            // SimConnect_RequestFacilityData
            this._sendPacket(0x46);
        }
        else {
            // SimConnect_RequestFacilityData_EX1
            this._writeBuffer.writeString(type, 1);
            this._sendPacket(0x4a);
        }
    }
    close() {
        if (this._openTimeout !== null) {
            clearTimeout(this._openTimeout);
            this._openTimeout = null;
        }
        this._clientSocket.close();
    }
    getLastSentPacketID() {
        return this._packetsSent - 1;
    }
    _handleMessage({ packetTypeId, data }) {
        if (!(packetTypeId in SimConnectSocket_1.RecvID)) {
            console.log('Unknown packet type id', packetTypeId, data);
        }
        switch (packetTypeId) {
            case SimConnectSocket_1.RecvID.ID_NULL:
                break;
            case SimConnectSocket_1.RecvID.ID_EXCEPTION:
                this.emit('exception', new recv_1.RecvException(data));
                break;
            case SimConnectSocket_1.RecvID.ID_OPEN:
                if (this._openTimeout !== null) {
                    clearTimeout(this._openTimeout);
                    this._openTimeout = null;
                }
                this.emit('open', new recv_1.RecvOpen(data));
                break;
            case SimConnectSocket_1.RecvID.ID_QUIT:
                this.emit('quit');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT:
                this.emit('event', new recv_1.RecvEvent(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_OBJECT_ADDREMOVE:
                this.emit('eventAddRemove', new recv_1.RecvEventAddRemove(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_FILENAME:
                this.emit('eventFilename', new recv_1.RecvEventFilename(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_FRAME:
                this.emit('eventFrame', new recv_1.RecvEventFrame(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SIMOBJECT_DATA:
                this.emit('simObjectData', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SIMOBJECT_DATA_BYTYPE:
                this.emit('simObjectDataByType', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_WEATHER_OBSERVATION:
                this.emit('weatherObservation', new recv_1.RecvWeatherObservation(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CLOUD_STATE:
                this.emit('cloudState', new recv_1.RecvCloudState(data));
                break;
            case SimConnectSocket_1.RecvID.ID_ASSIGNED_OBJECT_ID:
                this.emit('assignedObjectID', new recv_1.RecvAssignedObjectID(data));
                break;
            case SimConnectSocket_1.RecvID.ID_RESERVED_KEY:
                this.emit('reservedKey', new recv_1.RecvReservedKey(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CUSTOM_ACTION:
                this.emit('customAction', new recv_1.RecvCustomAction(data));
                break;
            case SimConnectSocket_1.RecvID.ID_SYSTEM_STATE:
                this.emit('systemState', new recv_1.RecvSystemState(data));
                break;
            case SimConnectSocket_1.RecvID.ID_CLIENT_DATA:
                this.emit('clientData', new recv_1.RecvSimObjectData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_WEATHER_MODE:
                this.emit('eventWeatherMode', new recv_1.RecvEventWeatherMode(data));
                break;
            case SimConnectSocket_1.RecvID.ID_AIRPORT_LIST:
                this.emit('airportList', new recv_1.RecvAirportList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_VOR_LIST:
                this.emit('vorList', new recv_1.RecvVORList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_NDB_LIST:
                this.emit('ndbList', new recv_1.RecvNDBList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_WAYPOINT_LIST:
                this.emit('waypointList', new recv_1.RecvWaypointList(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_SERVER_STARTED:
                this.emit('eventMultiplayerServerStarted');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_CLIENT_STARTED:
                this.emit('eventMultiplayerClientStarted');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_MULTIPLAYER_SESSION_ENDED:
                this.emit('eventMultiplayerSessionEnded');
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_RACE_END:
                this.emit('eventRaceEnd', new recv_1.RecvEventRaceEnd(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_RACE_LAP:
                this.emit('eventRaceLap', new recv_1.RecvEventRaceLap(data));
                break;
            case SimConnectSocket_1.RecvID.ID_EVENT_EX1:
                this.emit('eventEx1', new RecvEventEx1_1.RecvEventEx1(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_DATA:
                this.emit('facilityData', new RecvFacilityData_1.RecvFacilityData(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_DATA_END:
                this.emit('facilityDataEnd', new RecvFacilityDataEnd_1.RecvFacilityDataEnd(data));
                break;
            case SimConnectSocket_1.RecvID.ID_FACILITY_MINIMAL_LIST:
                this.emit('facilityMinimalList', new RecvFacilityMinimalList_1.RecvFacilityMinimalList(data));
                break;
        }
    }
    _resetBuffer() {
        this._writeBuffer.clear();
        this._writeBuffer.setOffset(16); // Bytes 0-16 are for the packet header
    }
    _sendPacket(type) {
        const packetSize = this._writeBuffer.getOffset();
        // Replace byte 0-16 with package header
        this._writeBuffer.writeInt(packetSize, 0);
        this._writeBuffer.writeInt(this._ourProtocol, 4);
        this._writeBuffer.writeInt(0xf0000000 | type, 8);
        this._writeBuffer.writeInt(this._packetsSent++, 12);
        const data = this._writeBuffer.getBuffer();
        this._clientSocket.write(data);
    }
    _open() {
        this._openTimeout = setTimeout(() => {
            this.close();
            this.emit('error', Error('Open timeout'));
        }, 5000);
        const version = openPacketData[this._ourProtocol];
        if (!version) {
            throw Error(SimConnectError.InvalidProtocol); // $NON-NLS-1$
        }
        this._resetBuffer();
        this._writeBuffer.writeString256(this._appName);
        this._writeBuffer.writeInt(0);
        this._writeBuffer.writeByte(0x00);
        this._writeBuffer.writeString(version.alias, 3);
        this._writeBuffer.writeInt(version.major);
        this._writeBuffer.writeInt(version.minor);
        this._writeBuffer.writeInt(version.buildMajor);
        this._writeBuffer.writeInt(version.buildMinor);
        this._sendPacket(0x01);
    }
}
exports.SimConnectConnection = SimConnectConnection;
module.exports = { SimConnectConnection };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2ltQ29ubmVjdENvbm5lY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvU2ltQ29ubmVjdENvbm5lY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQXNDO0FBQ3RDLG1FQUFnRTtBQUdoRSwyQ0FBd0M7QUFDeEMsaUVBQXVGO0FBR3ZGLCtDQUE0QztBQUc1QywrQ0FBNEM7QUFFNUMseURBQWlGO0FBQ2pGLGlDQXFCZ0I7QUFHaEIscURBQWtEO0FBRWxELCtEQUE0RDtBQVk1RCw4REFBMkQ7QUFDM0Qsb0VBQWlFO0FBQ2pFLDRFQUF5RTtBQUN6RSxzREFBbUQ7QUFFbkQsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDO0FBVTNCLE1BQU0sY0FBYyxHQUEwQztJQUMxRCxDQUFDLG1CQUFRLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDaEIsS0FBSyxFQUFFLENBQUM7UUFDUixLQUFLLEVBQUUsQ0FBQztRQUNSLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFVBQVUsRUFBRSxDQUFDO1FBQ2IsS0FBSyxFQUFFLEtBQUs7S0FDZjtJQUNELENBQUMsbUJBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUNoQixLQUFLLEVBQUUsRUFBRTtRQUNULEtBQUssRUFBRSxDQUFDO1FBQ1IsVUFBVSxFQUFFLEtBQUs7UUFDakIsVUFBVSxFQUFFLENBQUM7UUFDYixLQUFLLEVBQUUsS0FBSztLQUNmO0lBQ0QsQ0FBQyxtQkFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ2hCLEtBQUssRUFBRSxFQUFFO1FBQ1QsS0FBSyxFQUFFLENBQUM7UUFDUixVQUFVLEVBQUUsS0FBSztRQUNqQixVQUFVLEVBQUUsQ0FBQztRQUNiLEtBQUssRUFBRSxLQUFLO0tBQ2Y7SUFDRCxDQUFDLG1CQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7UUFDbEIsS0FBSyxFQUFFLEVBQUU7UUFDVCxLQUFLLEVBQUUsQ0FBQztRQUNSLFVBQVUsRUFBRSxLQUFLO1FBQ2pC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dGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgU2ltQ29ubmVjdERhdGFUeXBlIH0gZnJvbSAnLi9lbnVtcy9TaW1Db25uZWN0RGF0YVR5cGUnO1xuaW1wb3J0IHsgU2ltQ29ubmVjdFBlcmlvZCB9IGZyb20gJy4vZW51bXMvU2ltQ29ubmVjdFBlcmlvZCc7XG5pbXBvcnQgeyBTaW1PYmplY3RUeXBlIH0gZnJvbSAnLi9lbnVtcy9TaW1PYmplY3RUeXBlJztcbmltcG9ydCB7IFJhd0J1ZmZlciB9IGZyb20gJy4vUmF3QnVmZmVyJztcbmltcG9ydCB7IGF1dG9kZXRlY3RTZXJ2ZXJBZGRyZXNzLCBDb25uZWN0aW9uUGFyYW1ldGVycyB9IGZyb20gJy4vY29ubmVjdGlvblBhcmFtZXRlcnMnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uUHJpb3JpdHkgfSBmcm9tICcuL2VudW1zL05vdGlmaWNhdGlvblByaW9yaXR5JztcbmltcG9ydCB7IEljYW9UeXBlLCBJbml0UG9zaXRpb24sIFNpbUNvbm5lY3REYXRhIH0gZnJvbSAnLi9kdG8nO1xuaW1wb3J0IHsgVGV4dFR5cGUgfSBmcm9tICcuL2VudW1zL1RleHRUeXBlJztcbmltcG9ydCB7IEZhY2lsaXR5TGlzdFR5cGUgfSBmcm9tICcuL2VudW1zL0ZhY2lsaXR5TGlzdFR5cGUnO1xuaW1wb3J0IHsgQ2xpZW50RGF0YVBlcmlvZCB9IGZyb20gJy4vZW51bXMvQ2xpZW50RGF0YVBlcmlvZCc7XG5pbXBvcnQgeyBQcm90b2NvbCB9IGZyb20gJy4vZW51bXMvUHJvdG9jb2wnO1xuXG5pbXBvcnQgeyBSZWN2SUQsIFNpbUNvbm5lY3RNZXNzYWdlLCBTaW1Db25uZWN0U29ja2V0IH0gZnJvbSAnLi9TaW1Db25uZWN0U29ja2V0JztcbmltcG9ydCB7XG4gICAgUmVjdkFpcnBvcnRMaXN0LFxuICAgIFJlY3ZBc3NpZ25lZE9iamVjdElELFxuICAgIFJlY3ZDbG91ZFN0YXRlLFxuICAgIFJlY3ZDdXN0b21BY3Rpb24sXG4gICAgUmVjdkV2ZW50LFxuICAgIFJlY3ZFdmVudEFkZFJlbW92ZSxcbiAgICBSZWN2RXZlbnRGaWxlbmFtZSxcbiAgICBSZWN2RXZlbnRGcmFtZSxcbiAgICBSZWN2RXZlbnRSYWNlRW5kLFxuICAgIFJlY3ZFdmVudFJhY2VMYXAsXG4gICAgUmVjdkV2ZW50V2VhdGhlck1vZGUsXG4gICAgUmVjdkV4Y2VwdGlvbixcbiAgICBSZWN2TkRCTGlzdCxcbiAgICBSZWN2T3BlbixcbiAgICBSZWN2UmVzZXJ2ZWRLZXksXG4gICAgUmVjdlNpbU9iamVjdERhdGEsXG4gICAgUmVjdlN5c3RlbVN0YXRlLFxuICAgIFJlY3ZWT1JMaXN0LFxuICAgIFJlY3ZXYXlwb2ludExpc3QsXG4gICAgUmVjdldlYXRoZXJPYnNlcnZhdGlvbixcbn0gZnJvbSAnLi9yZWN2JztcbmltcG9ydCB7IERhdGFSZXF1ZXN0RmxhZyB9IGZyb20gJy4vZmxhZ3MvRGF0YVJlcXVlc3RGbGFnJztcbmltcG9ydCB7IEV2ZW50RmxhZyB9IGZyb20gJy4vZmxhZ3MvRXZlbnRGbGFnJztcbmltcG9ydCB7IERhdGFTZXRGbGFnIH0gZnJvbSAnLi9mbGFncy9EYXRhU2V0RmxhZyc7XG5pbXBvcnQgeyBDbGllbnREYXRhUmVxdWVzdEZsYWcgfSBmcm9tICcuL2ZsYWdzL0NsaWVudERhdGFSZXF1ZXN0RmxhZyc7XG5pbXBvcnQgeyBTaW1Db25uZWN0Q29uc3RhbnRzIH0gZnJvbSAnLi9TaW1Db25uZWN0Q29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgQ2xpZW50RGF0YURlZmluaXRpb25JZCxcbiAgICBDbGllbnREYXRhSWQsXG4gICAgQ2xpZW50RXZlbnRJZCxcbiAgICBEYXRhRGVmaW5pdGlvbklkLFxuICAgIERhdGFSZXF1ZXN0SWQsXG4gICAgSW5wdXRHcm91cElkLFxuICAgIE5vdGlmaWNhdGlvbkdyb3VwSWQsXG4gICAgT2JqZWN0SWQsXG59IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IFRpbWVvdXQgPSBOb2RlSlMuVGltZW91dDtcbmltcG9ydCB7IFJlY3ZGYWNpbGl0eURhdGEgfSBmcm9tICcuL3JlY3YvUmVjdkZhY2lsaXR5RGF0YSc7XG5pbXBvcnQgeyBSZWN2RmFjaWxpdHlEYXRhRW5kIH0gZnJvbSAnLi9yZWN2L1JlY3ZGYWNpbGl0eURhdGFFbmQnO1xuaW1wb3J0IHsgUmVjdkZhY2lsaXR5TWluaW1hbExpc3QgfSBmcm9tICcuL3JlY3YvUmVjdkZhY2lsaXR5TWluaW1hbExpc3QnO1xuaW1wb3J0IHsgUmVjdkV2ZW50RXgxIH0gZnJvbSAnLi9yZWN2L1JlY3ZFdmVudEV4MSc7XG5cbmNvbnN0IFJFQ0VJVkVfU0laRSA9IDY1NTM2O1xuXG50eXBlIE9wZW5QYWNrZXREYXRhID0ge1xuICAgIG1ham9yOiBudW1iZXI7XG4gICAgbWlub3I6IG51bWJlcjtcbiAgICBidWlsZE1ham9yOiBudW1iZXI7XG4gICAgYnVpbGRNaW5vcjogbnVtYmVyO1xuICAgIGFsaWFzOiBzdHJpbmc7XG59O1xuXG5jb25zdCBvcGVuUGFja2V0RGF0YTogeyBba2V5IGluIFByb3RvY29sXTogT3BlblBhY2tldERhdGEgfSA9IHtcbiAgICBbUHJvdG9jb2wuRlNYX1JUTV06IHtcbiAgICAgICAgbWFqb3I6IDAsXG4gICAgICAgIG1pbm9yOiAwLFxuICAgICAgICBidWlsZE1ham9yOiA2MDkwNSxcbiAgICAgICAgYnVpbGRNaW5vcjogMCxcbiAgICAgICAgYWxpYXM6ICdYU0YnLFxuICAgIH0sXG4gICAgW1Byb3RvY29sLkZTWF9TUDFdOiB7XG4gICAgICAgIG1ham9yOiAxMCxcbiAgICAgICAgbWlub3I6IDAsXG4gICAgICAgIGJ1aWxkTWFqb3I6IDYxMzU1LFxuICAgICAgICBidWlsZE1pbm9yOiAwLFxuICAgICAgICBhbGlhczogJ1hTRicsXG4gICAgfSxcbiAgICBbUHJvdG9jb2wuRlNYX1NQMl06IHtcbiAgICAgICAgbWFqb3I6IDEwLFxuICAgICAgICBtaW5vcjogMCxcbiAgICAgICAgYnVpbGRNYWpvcjogNjEyNTksXG4gICAgICAgIGJ1aWxkTWlub3I6IDAsXG4gICAgICAgIGFsaWFzOiAnWFNGJyxcbiAgICB9LFxuICAgIFtQcm90b2NvbC5LaXR0eUhhd2tdOiB7XG4gICAgICAgIG1ham9yOiAxMSxcbiAgICAgICAgbWlub3I6IDAsXG4gICAgICAgIGJ1aWxkTWFqb3I6IDYyNjUxLFxuICAgICAgICBidWlsZE1pbm9yOiAzLFxuICAgICAgICBhbGlhczogJ0hLJywgLy8gXCJIYXdrXCIgKyBcIktpdHR5XCI/XG4gICAgfSxcbn07XG5cbmludGVyZmFjZSBTaW1Db25uZWN0UmVjdkV2ZW50cyB7XG4gICAgb3BlbjogKHJlY3ZPcGVuOiBSZWN2T3BlbikgPT4gdm9pZDtcbiAgICBjbG9zZTogKCkgPT4gdm9pZDtcbiAgICBlcnJvcjogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbiAgICBxdWl0OiAoKSA9PiB2b2lkO1xuICAgIGV4Y2VwdGlvbjogKHJlY3ZFeGNlcHRpb246IFJlY3ZFeGNlcHRpb24pID0+IHZvaWQ7XG4gICAgZXZlbnQ6IChyZWN2RXZlbnQ6IFJlY3ZFdmVudCkgPT4gdm9pZDtcbiAgICBldmVudEV4MTogKHJlY3ZFdmVudDogUmVjdkV2ZW50RXgxKSA9PiB2b2lkO1xuICAgIGFpcnBvcnRMaXN0OiAocmVjdkFpcnBvcnRMaXN0OiBSZWN2QWlycG9ydExpc3QpID0+IHZvaWQ7XG4gICAgdm9yTGlzdDogKHJlY3ZWT1JMaXN0OiBSZWN2Vk9STGlzdCkgPT4gdm9pZDtcbiAgICBuZGJMaXN0OiAocmVjdk5EQkxpc3Q6IFJlY3ZOREJMaXN0KSA9PiB2b2lkO1xuICAgIHdheXBvaW50TGlzdDogKHJlY3ZXYXlwb2ludExpc3Q6IFJlY3ZXYXlwb2ludExpc3QpID0+IHZvaWQ7XG4gICAgcmVzZXJ2ZWRLZXk6IChyZWN2UmVzZXJ2ZWRLZXk6IFJlY3ZSZXNlcnZlZEtleSkgPT4gdm9pZDtcbiAgICBjdXN0b21BY3Rpb246IChyZWN2Q3VzdG9tQWN0aW9uOiBSZWN2Q3VzdG9tQWN0aW9uKSA9PiB2b2lkO1xuICAgIGNsaWVudERhdGE6IChyZWN2U2ltT2JqZWN0RGF0YTogUmVjdlNpbU9iamVjdERhdGEpID0+IHZvaWQ7XG4gICAgZXZlbnRXZWF0aGVyTW9kZTogKHJlY3ZXZWF0aGVyTW9kZTogUmVjdkV2ZW50V2VhdGhlck1vZGUpID0+IHZvaWQ7XG4gICAgYXNzaWduZWRPYmplY3RJRDogKHJlY3ZBc3NpZ25lZE9iamVjdElEOiBSZWN2QXNzaWduZWRPYmplY3RJRCkgPT4gdm9pZDtcbiAgICBldmVudEZpbGVuYW1lOiAocmVjdkV2ZW50RmlsZW5hbWU6IFJlY3ZFdmVudEZpbGVuYW1lKSA9PiB2b2lkO1xuICAgIGV2ZW50RnJhbWU6IChyZWN2RXZlbnRGcmFtZTogUmVjdkV2ZW50RnJhbWUpID0+IHZvaWQ7XG4gICAgZXZlbnRBZGRSZW1vdmU6IChyZWN2RXZlbnQ6IFJlY3ZFdmVudEFkZFJlbW92ZSkgPT4gdm9pZDtcbiAgICBzaW1PYmplY3REYXRhOiAocmVjdlNpbU9iamVjdERhdGE6IFJlY3ZTaW1PYmplY3REYXRhKSA9PiB2b2lkO1xuICAgIHNpbU9iamVjdERhdGFCeVR5cGU6IChyZWN2U2ltT2JqZWN0RGF0YTogUmVjdlNpbU9iamVjdERhdGEpID0+IHZvaWQ7XG4gICAgc3lzdGVtU3RhdGU6IChyZWN2U3lzdGVtU3RhdGU6IFJlY3ZTeXN0ZW1TdGF0ZSkgPT4gdm9pZDtcbiAgICB3ZWF0aGVyT2JzZXJ2YXRpb246IChyZWN2V2VhdGhlck9ic2VydmF0aW9uOiBSZWN2V2VhdGhlck9ic2VydmF0aW9uKSA9PiB2b2lkO1xuICAgIGNsb3VkU3RhdGU6IChyZWN2Q2xvdWRTdGF0ZTogUmVjdkNsb3VkU3RhdGUpID0+IHZvaWQ7XG4gICAgZXZlbnRNdWx0aXBsYXllclNlcnZlclN0YXJ0ZWQ6ICgpID0+IHZvaWQ7XG4gICAgZXZlbnRNdWx0aXBsYXllckNsaWVudFN0YXJ0ZWQ6ICgpID0+IHZvaWQ7XG4gICAgZXZlbnRNdWx0aXBsYXllclNlc3Npb25FbmRlZDogKCkgPT4gdm9pZDtcbiAgICBldmVudFJhY2VFbmQ6IChyZWN2RXZlbnRSYWNlRW5kOiBSZWN2RXZlbnRSYWNlRW5kKSA9PiB2b2lkO1xuICAgIGV2ZW50UmFjZUxhcDogKHJlY3ZFdmVudFJhY2VMYXA6IFJlY3ZFdmVudFJhY2VMYXApID0+IHZvaWQ7XG4gICAgZmFjaWxpdHlEYXRhOiAocmVjdkZhY2lsaXR5RGF0YTogUmVjdkZhY2lsaXR5RGF0YSkgPT4gdm9pZDtcbiAgICBmYWNpbGl0eURhdGFFbmQ6IChyZWN2RmFjaWxpdHlEYXRhRW5kOiBSZWN2RmFjaWxpdHlEYXRhRW5kKSA9PiB2b2lkO1xuICAgIGZhY2lsaXR5TWluaW1hbExpc3Q6IChyZWN2RmFjaWxpdHlNaW5pbWFsTGlzdDogUmVjdkZhY2lsaXR5TWluaW1hbExpc3QpID0+IHZvaWQ7XG59XG5cbnR5cGUgQ29ubmVjdGlvbk9wdGlvbnMgPVxuICAgIHwgeyBob3N0OiBzdHJpbmc7IHBvcnQ6IG51bWJlciB9XG4gICAgfCB7IHNpbUNvbm5lY3RDZmdJbmRleDogbnVtYmVyIH1cbiAgICB8IHsgcmVtb3RlOiB7IGhvc3Q6IHN0cmluZzsgcG9ydDogbnVtYmVyIH0gfTtcblxuZW51bSBTaW1Db25uZWN0RXJyb3Ige1xuICAgIFVua25vd25Ib3N0ID0gJ1Vua25vd24gaG9zdCcsXG4gICAgR3VpZEludmFsaWRTaXplID0gJ0dVSUQgaXMgbm90IDE2IGJ5dGVzIGxvbmcnLFxuICAgIFVuaW1wbGVtZW50ZWQgPSAnTm90IHlldCBpbXBsZW1lbnRlZCcsXG4gICAgVmVyc2lvbk1pc21hdGNoID0gJ0ludmFsaWQgdmVyc2lvbjInLFxuICAgIFBhY2tldFRvb0xhcmdlID0gJ1BhY2tldCB0b28gbGFyZ2UnLFxuICAgIEludmFsaWRSZWFkID0gJ0ludmFsaWQgcmVhZCcsXG4gICAgSW52YWxpZFByb3RvY29sID0gJ0ludmFsaWQgcHJvdG9jb2wgdmVyc2lvbicsXG4gICAgQmFkVmVyc2lvbiA9ICdVbnN1cHBvcnRlZCBwcm90b2NvbCB2ZXJzaW9uJyxcbn1cblxuY2xhc3MgU2ltQ29ubmVjdENvbm5lY3Rpb24gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FwcE5hbWU6IHN0cmluZztcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3dyaXRlQnVmZmVyOiBSYXdCdWZmZXI7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9vdXJQcm90b2NvbDogUHJvdG9jb2w7XG5cbiAgICBfY2xpZW50U29ja2V0OiBTaW1Db25uZWN0U29ja2V0O1xuXG4gICAgcHJpdmF0ZSBfb3BlblRpbWVvdXQ6IG51bGwgfCBUaW1lb3V0O1xuXG4gICAgcHJpdmF0ZSBfcGFja2V0c1NlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcE5hbWU6IHN0cmluZywgcHJvdG9jb2xWZXJzaW9uOiBQcm90b2NvbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9hcHBOYW1lID0gYXBwTmFtZTtcbiAgICAgICAgdGhpcy5fcGFja2V0c1NlbnQgPSAwO1xuICAgICAgICB0aGlzLl9vdXJQcm90b2NvbCA9IHByb3RvY29sVmVyc2lvbjtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIgPSBuZXcgUmF3QnVmZmVyKFJFQ0VJVkVfU0laRSk7XG5cbiAgICAgICAgdGhpcy5fb3BlblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NsaWVudFNvY2tldCA9IG5ldyBTaW1Db25uZWN0U29ja2V0KCk7XG5cbiAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0Lm9uKCdjb25uZWN0JywgdGhpcy5fb3Blbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0Lm9uKCdkYXRhJywgdGhpcy5faGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fY2xpZW50U29ja2V0Lm9uKCdjbG9zZScsICgpID0+IHRoaXMuZW1pdCgnY2xvc2UnKSk7XG4gICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5vbignZXJyb3InLCAoY29ubmVjdEVycm9yOiBFcnJvcikgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGNvbm5lY3RFcnJvcikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbjxVIGV4dGVuZHMga2V5b2YgU2ltQ29ubmVjdFJlY3ZFdmVudHM+KFxuICAgICAgICBldmVudDogVSxcbiAgICAgICAgbGlzdGVuZXI6IFNpbUNvbm5lY3RSZWN2RXZlbnRzW1VdXG4gICAgKTogdGhpcyB7XG4gICAgICAgIHJldHVybiBzdXBlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBlbWl0PFUgZXh0ZW5kcyBrZXlvZiBTaW1Db25uZWN0UmVjdkV2ZW50cz4oXG4gICAgICAgIGV2ZW50OiBVLFxuICAgICAgICAuLi5hcmdzOiBQYXJhbWV0ZXJzPFNpbUNvbm5lY3RSZWN2RXZlbnRzW1VdPlxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gc3VwZXIuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgY29ubmVjdChvcHRpb25zPzogQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgJ2hvc3QnIGluIG9wdGlvbnMgJiYgJ3BvcnQnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5jb25uZWN0KHsgdHlwZTogJ2lwdjQnLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgJ3JlbW90ZScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gRm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5XG4gICAgICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQuY29ubmVjdCh7IHR5cGU6ICdpcHY0JywgLi4ub3B0aW9ucy5yZW1vdGUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0U2VydmVyQWRkcmVzcyhvcHRpb25zPy5zaW1Db25uZWN0Q2ZnSW5kZXgpLnRoZW4oXG4gICAgICAgICAgICAgICAgKGFkZHJlc3M6IENvbm5lY3Rpb25QYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5jb25uZWN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRUb0RhdGFEZWZpbml0aW9uKFxuICAgICAgICBkYXRhRGVmaW5pdGlvbklkOiBEYXRhRGVmaW5pdGlvbklkLFxuICAgICAgICBkYXR1bU5hbWU6IHN0cmluZyxcbiAgICAgICAgdW5pdHNOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgICAgICBkYXRhVHlwZT86IFNpbUNvbm5lY3REYXRhVHlwZSxcbiAgICAgICAgZXBzaWxvbj86IG51bWJlcixcbiAgICAgICAgZGF0dW1JZD86IG51bWJlclxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhRGVmaW5pdGlvbklkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcyNTYoZGF0dW1OYW1lKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcyNTYodW5pdHNOYW1lKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVR5cGUgPT09IHVuZGVmaW5lZCA/IFNpbUNvbm5lY3REYXRhVHlwZS5GTE9BVDY0IDogZGF0YVR5cGUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGVwc2lsb24gfHwgMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdHVtSWQgPT09IHVuZGVmaW5lZCA/IFNpbUNvbm5lY3RDb25zdGFudHMuVU5VU0VEIDogZGF0dW1JZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwYyk7XG4gICAgfVxuXG4gICAgcmVxdWVzdERhdGFPblNpbU9iamVjdChcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcbiAgICAgICAgZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCxcbiAgICAgICAgb2JqZWN0SWQ6IE9iamVjdElkLFxuICAgICAgICBwZXJpb2Q6IFNpbUNvbm5lY3RQZXJpb2QsXG4gICAgICAgIGZsYWdzPzogRGF0YVJlcXVlc3RGbGFnLFxuICAgICAgICBvcmlnaW4/OiBudW1iZXIsXG4gICAgICAgIGludGVydmFsPzogbnVtYmVyLFxuICAgICAgICBsaW1pdD86IG51bWJlclxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhUmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YURlZmluaXRpb25JZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG9iamVjdElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQocGVyaW9kKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZmxhZ3MgfHwgMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG9yaWdpbiB8fCAwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoaW50ZXJ2YWwgfHwgMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGxpbWl0IHx8IDApO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MGUpO1xuICAgIH1cblxuICAgIGNsZWFyRGF0YURlZmluaXRpb24oZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhRGVmaW5pdGlvbklkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDBkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0RGF0YU9uU2ltT2JqZWN0VHlwZShcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcbiAgICAgICAgZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCxcbiAgICAgICAgcmFkaXVzTWV0ZXJzOiBudW1iZXIsXG4gICAgICAgIHR5cGU6IFNpbU9iamVjdFR5cGVcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFEZWZpbml0aW9uSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChyYWRpdXNNZXRlcnMpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDBmKTtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVUb1N5c3RlbUV2ZW50KGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQsIGV2ZW50TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGNsaWVudEV2ZW50SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzI1NihldmVudE5hbWUpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTcpO1xuICAgIH1cblxuICAgIHVuc3Vic2NyaWJlRnJvbVN5c3RlbUV2ZW50KGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgxOCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdFN5c3RlbVN0YXRlKGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsIHN0YXRlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nMjU2KHN0YXRlKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDM1KTtcbiAgICB9XG5cbiAgICBzZXRTeXN0ZW1TdGF0ZShzdGF0ZTogc3RyaW5nLCBwYXJhbUludDogbnVtYmVyLCBwYXJhbUZsb2F0OiBudW1iZXIsIHBhcmFtU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcyNTYoc3RhdGUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChwYXJhbUludCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQocGFyYW1GbG9hdCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nMjU2KHBhcmFtU3RyaW5nKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoMCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzNik7XG4gICAgfVxuXG4gICAgYWRkQ2xpZW50RXZlbnRUb05vdGlmaWNhdGlvbkdyb3VwKFxuICAgICAgICBub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkLFxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxuICAgICAgICBtYXNrYWJsZTogYm9vbGVhblxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChub3RpZmljYXRpb25Hcm91cElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1hc2thYmxlID8gMSA6IDApO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MDcpO1xuICAgIH1cblxuICAgIG1hcENsaWVudEV2ZW50VG9TaW1FdmVudChjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLCBldmVudE5hbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nMjU2KGV2ZW50TmFtZSB8fCAnJyk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwNCk7XG4gICAgfVxuXG4gICAgdHJhbnNtaXRDbGllbnRFdmVudChcbiAgICAgICAgb2JqZWN0SWQ6IE9iamVjdElkLFxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxuICAgICAgICBkYXRhOiBudW1iZXIsXG4gICAgICAgIG5vdGlmaWNhdGlvbkdyb3VwSWQ6IE5vdGlmaWNhdGlvbkdyb3VwSWQsXG4gICAgICAgIGZsYWdzOiBFdmVudEZsYWdcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQob2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnRFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG5vdGlmaWNhdGlvbkdyb3VwSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChmbGFncyk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwNSk7XG4gICAgfVxuXG4gICAgc2V0U3lzdGVtRXZlbnRTdGF0ZShjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLCBzdGF0ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnRFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoc3RhdGUgPyAxIDogMCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwNik7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2xpZW50RXZlbnQobm90aWZpY2F0aW9uR3JvdXBJZDogTm90aWZpY2F0aW9uR3JvdXBJZCwgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChub3RpZmljYXRpb25Hcm91cElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwOCk7XG4gICAgfVxuXG4gICAgc2V0Tm90aWZpY2F0aW9uR3JvdXBQcmlvcml0eShcbiAgICAgICAgbm90aWZpY2F0aW9uR3JvdXBJZDogTm90aWZpY2F0aW9uR3JvdXBJZCxcbiAgICAgICAgcHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG5vdGlmaWNhdGlvbkdyb3VwSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChwcmlvcml0eSk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwOSk7XG4gICAgfVxuXG4gICAgY2xlYXJOb3RpZmljYXRpb25Hcm91cChub3RpZmljYXRpb25Hcm91cElkOiBOb3RpZmljYXRpb25Hcm91cElkKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG5vdGlmaWNhdGlvbkdyb3VwSWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MGEpO1xuICAgIH1cblxuICAgIHJlcXVlc3ROb3RpZmljYXRpb25Hcm91cChcbiAgICAgICAgbm90aWZpY2F0aW9uR3JvdXBJZDogTm90aWZpY2F0aW9uR3JvdXBJZCxcbiAgICAgICAgcmVzZXJ2ZWQ6IG51bWJlcixcbiAgICAgICAgZmxhZ3M6IG51bWJlclxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChub3RpZmljYXRpb25Hcm91cElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQocmVzZXJ2ZWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChmbGFncyk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgwYik7XG4gICAgfVxuXG4gICAgc2V0RGF0YU9uU2ltT2JqZWN0KFxuICAgICAgICBkYXRhRGVmaW5pdGlvbklkOiBEYXRhRGVmaW5pdGlvbklkLFxuICAgICAgICBvYmplY3RJZDogT2JqZWN0SWQsXG4gICAgICAgIGRhdGE6IHsgYnVmZmVyOiBSYXdCdWZmZXI7IGFycmF5Q291bnQ6IG51bWJlcjsgdGFnZ2VkOiBib29sZWFuIH0gfCBTaW1Db25uZWN0RGF0YVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFEZWZpbml0aW9uSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChvYmplY3RJZCk7XG5cbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoRGF0YVNldEZsYWcuREVGQVVMVCk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCgwKTsgLy8gSnVzdCBhIHBsYWNlaG9sZGVyIGZvciBhcnJheSB1bml0IHNpemVcbiAgICAgICAgICAgIGNvbnN0IGFycmF5U3RhcnRQb3MgPSB0aGlzLl93cml0ZUJ1ZmZlci5nZXRPZmZzZXQoKTtcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChzaW1Db25uZWN0RGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgc2ltQ29ubmVjdERhdGEud3JpdGUodGhpcy5fd3JpdGVCdWZmZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhcnJheVRvdGFsU2l6ZSA9IHRoaXMuX3dyaXRlQnVmZmVyLmdldE9mZnNldCgpIC0gYXJyYXlTdGFydFBvcztcbiAgICAgICAgICAgIGNvbnN0IHVuaXRTaXplID0gYXJyYXlUb3RhbFNpemUgLyBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHVuaXRTaXplLCBhcnJheVN0YXJ0UG9zIC0gNCk7IC8vIFJlcGxhY2UgcGxhY2Vob2xkZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGFnZ2VkLCBhcnJheUNvdW50LCBidWZmZXIgfSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0YWdnZWQgPyBEYXRhU2V0RmxhZy5UQUdHRUQgOiBEYXRhU2V0RmxhZy5ERUZBVUxUKTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGFycmF5Q291bnQgPT09IDAgPyAxIDogYXJyYXlDb3VudCk7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IGJ1ZmZlci5nZXRCdWZmZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZShieXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTApO1xuICAgIH1cblxuICAgIG1hcElucHV0RXZlbnRUb0NsaWVudEV2ZW50KFxuICAgICAgICBpbnB1dEdyb3VwSWQ6IElucHV0R3JvdXBJZCxcbiAgICAgICAgaW5wdXREZWZpbml0aW9uOiBzdHJpbmcsXG4gICAgICAgIGNsaWVudEV2ZW50RG93bklEOiBDbGllbnRFdmVudElkLFxuICAgICAgICBkb3duVmFsdWU/OiBudW1iZXIsXG4gICAgICAgIGNsaWVudEV2ZW50VXBJRD86IENsaWVudEV2ZW50SWQsXG4gICAgICAgIHVwVmFsdWU/OiBudW1iZXIsXG4gICAgICAgIG1hc2thYmxlPzogYm9vbGVhblxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChpbnB1dEdyb3VwSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzI1NihpbnB1dERlZmluaXRpb24pO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnRFdmVudERvd25JRCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRvd25WYWx1ZSB8fCAwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoXG4gICAgICAgICAgICBjbGllbnRFdmVudFVwSUQgPT09IHVuZGVmaW5lZCA/IFNpbUNvbm5lY3RDb25zdGFudHMuVU5VU0VEIDogY2xpZW50RXZlbnRVcElEXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHVwVmFsdWUgfHwgMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1hc2thYmxlID8gMSA6IDApO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTEpO1xuICAgIH1cblxuICAgIHNldElucHV0R3JvdXBQcmlvcml0eShpbnB1dEdyb3VwSWQ6IElucHV0R3JvdXBJZCwgcHJpb3JpdHk6IE5vdGlmaWNhdGlvblByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGlucHV0R3JvdXBJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDEyKTtcbiAgICB9XG5cbiAgICByZW1vdmVJbnB1dEV2ZW50KGlucHV0R3JvdXBJZDogSW5wdXRHcm91cElkLCBpbnB1dERlZmluaXRpb246IHN0cmluZykge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChpbnB1dEdyb3VwSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzI1NihpbnB1dERlZmluaXRpb24pO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTMpO1xuICAgIH1cblxuICAgIGNsZWFySW5wdXRHcm91cChpbnB1dEdyb3VwSWQ6IElucHV0R3JvdXBJZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChpbnB1dEdyb3VwSWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTQpO1xuICAgIH1cblxuICAgIHNldElucHV0R3JvdXBTdGF0ZShpbnB1dEdyb3VwSWQ6IElucHV0R3JvdXBJZCwgc3RhdGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoaW5wdXRHcm91cElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoc3RhdGUgPyAxIDogMCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgxNSk7XG4gICAgfVxuXG4gICAgcmVxdWVzdFJlc2VydmVkS2V5KFxuICAgICAgICBjbGllbnRFdmVudElkOiBDbGllbnRFdmVudElkLFxuICAgICAgICBrZXlDaG9pY2UxPzogc3RyaW5nLFxuICAgICAgICBrZXlDaG9pY2UyPzogc3RyaW5nLFxuICAgICAgICBrZXlDaG9pY2UzPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGNsaWVudEV2ZW50SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzMwKGtleUNob2ljZTEgfHwgJycpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzMwKGtleUNob2ljZTIgfHwgJycpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzMwKGtleUNob2ljZTMgfHwgJycpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyUmVxdWVzdEludGVycG9sYXRlZE9ic2VydmF0aW9uKFxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxuICAgICAgICBsYXQ6IG51bWJlcixcbiAgICAgICAgbG9uOiBudW1iZXIsXG4gICAgICAgIGFsdDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGxhdCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobG9uKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChhbHQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MTkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyUmVxdWVzdE9ic2VydmF0aW9uQXRTdGF0aW9uKGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsIElDQU86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhUmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoSUNBTywgNSk7IC8vIElDQU8gaXMgNCBjaGFycywgbnVsbCB0ZXJtaW5hdGVkXG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgxYSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIHdlYXRoZXJSZXF1ZXN0T2JzZXJ2YXRpb25BdE5lYXJlc3RTdGF0aW9uKFxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxuICAgICAgICBsYXQ6IG51bWJlcixcbiAgICAgICAgbG9uOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobGF0KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChsb24pO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MWIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyQ3JlYXRlU3RhdGlvbihcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCxcbiAgICAgICAgSUNBTzogc3RyaW5nLFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIGxhdDogbnVtYmVyLFxuICAgICAgICBsb246IG51bWJlcixcbiAgICAgICAgYWx0OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKElDQU8sIDUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhuYW1lLCAyNTYpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGxhdCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobG9uKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChhbHQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MWMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyUmVtb3ZlU3RhdGlvbihkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLCBJQ0FPOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKElDQU8sIDUpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyU2V0T2JzZXJ2YXRpb24oc2Vjb25kczogbnVtYmVyLCBtZXRhcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHNlY29uZHMpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhtZXRhcik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlQnl0ZSgwKTsgLy8gbnVsbCB0ZXJtaW5hdGVkXG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgxZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIHdlYXRoZXJTZXRNb2RlU2VydmVyKHBvcnQ6IG51bWJlciwgc2Vjb25kczogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHBvcnQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDFmKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgd2VhdGhlclNldE1vZGVUaGVtZSh0aGVtZU5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyh0aGVtZU5hbWUsIDI1Nik7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgyMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIHdlYXRoZXJTZXRNb2RlR2xvYmFsKCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MjEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIE1TRlMgKEtpdHR5SGF3aylcbiAgICAgKi9cbiAgICB3ZWF0aGVyU2V0TW9kZUN1c3RvbSgpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDIyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgd2VhdGhlclNldER5bmFtaWNVcGRhdGVSYXRlKHJhdGU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChyYXRlKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDIzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgd2VhdGhlclJlcXVlc3RDbG91ZFN0YXRlKFxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxuICAgICAgICBtaW5MYXQ6IG51bWJlcixcbiAgICAgICAgbWluTG9uOiBudW1iZXIsXG4gICAgICAgIG1pbkFsdDogbnVtYmVyLFxuICAgICAgICBtYXhMYXQ6IG51bWJlcixcbiAgICAgICAgbWF4TG9uOiBudW1iZXIsXG4gICAgICAgIG1heEFsdDogbnVtYmVyLFxuICAgICAgICBmbGFncz86IG51bWJlclxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhUmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChtaW5MYXQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KG1pbkxvbik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobWluQWx0KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChtYXhMYXQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KG1heExvbik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobWF4QWx0KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZmxhZ3MgfHwgMCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgyNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIHdlYXRoZXJDcmVhdGVUaGVybWFsKFxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkLFxuICAgICAgICBsYXQ6IG51bWJlcixcbiAgICAgICAgbG9uOiBudW1iZXIsXG4gICAgICAgIGFsdDogbnVtYmVyLFxuICAgICAgICByYWRpdXM6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIGNvcmVSYXRlOiBudW1iZXIsXG4gICAgICAgIGNvcmVUdXJidWxlbmNlOiBudW1iZXIsXG4gICAgICAgIHNpbmtSYXRlOiBudW1iZXIsXG4gICAgICAgIHNpbmtUdXJidWxlbmNlOiBudW1iZXIsXG4gICAgICAgIGNvcmVTaXplOiBudW1iZXIsXG4gICAgICAgIGNvcmVUcmFuc2l0aW9uU2l6ZTogbnVtYmVyLFxuICAgICAgICBzaW5rTGF5ZXJTaXplOiBudW1iZXIsXG4gICAgICAgIHNpbmtUcmFuc2l0aW9uU2l6ZTogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGxhdCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQobG9uKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChhbHQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KHJhZGl1cyk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChjb3JlUmF0ZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoY29yZVR1cmJ1bGVuY2UpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KHNpbmtSYXRlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChzaW5rVHVyYnVsZW5jZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoY29yZVNpemUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGNvcmVUcmFuc2l0aW9uU2l6ZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoc2lua0xheWVyU2l6ZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoc2lua1RyYW5zaXRpb25TaXplKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDI1KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgd2VhdGhlclJlbW92ZVRoZXJtYWwob2JqZWN0SWQ6IE9iamVjdElkKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG9iamVjdElkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDI2KTtcbiAgICB9XG5cbiAgICBhSUNyZWF0ZVBhcmtlZEFUQ0FpcmNyYWZ0KFxuICAgICAgICBjb250YWluZXJUaXRsZTogc3RyaW5nLFxuICAgICAgICB0YWlsTnVtYmVyOiBzdHJpbmcsXG4gICAgICAgIGFpcnBvcnRJRDogc3RyaW5nLFxuICAgICAgICBkYXRhUmVxdWVzdElkOiBEYXRhUmVxdWVzdElkXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKGNvbnRhaW5lclRpdGxlLCAyNTYpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyh0YWlsTnVtYmVyLCAxMik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKGFpcnBvcnRJRCwgNSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MjcpO1xuICAgIH1cblxuICAgIGFJQ3JlYXRlRW5yb3V0ZUFUQ0FpcmNyYWZ0KFxuICAgICAgICBjb250YWluZXJUaXRsZTogc3RyaW5nLFxuICAgICAgICB0YWlsTnVtYmVyOiBzdHJpbmcsXG4gICAgICAgIGZsaWdodE51bWJlcjogbnVtYmVyLFxuICAgICAgICBmbGlnaHRQbGFuUGF0aDogc3RyaW5nLFxuICAgICAgICBmbGlnaHRQbGFuUG9zaXRpb246IG51bWJlcixcbiAgICAgICAgdG91Y2hBbmRHbzogYm9vbGVhbixcbiAgICAgICAgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZFxuICAgICkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhjb250YWluZXJUaXRsZSwgMjU2KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcodGFpbE51bWJlciwgMTIpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChmbGlnaHROdW1iZXIpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhmbGlnaHRQbGFuUGF0aCwgMjYwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVEb3VibGUoZmxpZ2h0UGxhblBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQodG91Y2hBbmRHbyA/IDEgOiAwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgyOCk7XG4gICAgfVxuXG4gICAgYUlDcmVhdGVOb25BVENBaXJjcmFmdChcbiAgICAgICAgY29udGFpbmVyVGl0bGU6IHN0cmluZyxcbiAgICAgICAgdGFpbE51bWJlcjogc3RyaW5nLFxuICAgICAgICBpbml0UG9zOiBJbml0UG9zaXRpb24sXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoY29udGFpbmVyVGl0bGUsIDI1Nik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKHRhaWxOdW1iZXIsIDEyKTtcbiAgICAgICAgaW5pdFBvcy53cml0ZSh0aGlzLl93cml0ZUJ1ZmZlcik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MjkpO1xuICAgIH1cblxuICAgIGFJQ3JlYXRlU2ltdWxhdGVkT2JqZWN0KFxuICAgICAgICBjb250YWluZXJUaXRsZTogc3RyaW5nLFxuICAgICAgICBpbml0UG9zOiBJbml0UG9zaXRpb24sXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoY29udGFpbmVyVGl0bGUsIDI1Nik7XG4gICAgICAgIGluaXRQb3Mud3JpdGUodGhpcy5fd3JpdGVCdWZmZXIpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhUmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDJhKTtcbiAgICB9XG5cbiAgICBhSVJlbGVhc2VDb250cm9sKG9iamVjdElkOiBPYmplY3RJZCwgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChvYmplY3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MmIpO1xuICAgIH1cblxuICAgIGFJUmVtb3ZlT2JqZWN0KG9iamVjdElkOiBPYmplY3RJZCwgZGF0YVJlcXVlc3RJZDogRGF0YVJlcXVlc3RJZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChvYmplY3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFSZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MmMpO1xuICAgIH1cblxuICAgIGFJU2V0QWlyY3JhZnRGbGlnaHRQbGFuKFxuICAgICAgICBvYmplY3RJZDogT2JqZWN0SWQsXG4gICAgICAgIGZsaWdodFBsYW5QYXRoOiBzdHJpbmcsXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWRcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQob2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhmbGlnaHRQbGFuUGF0aCwgMjYwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgyZCk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZU1pc3Npb25BY3Rpb24oZ3VpZEluc3RhbmNlSWQ6IEJ1ZmZlcikge1xuICAgICAgICBpZiAoZ3VpZEluc3RhbmNlSWQubGVuZ3RoICE9PSAxNikgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkd1aWRJbnZhbGlkU2l6ZSk7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlKGd1aWRJbnN0YW5jZUlkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDJlKTtcbiAgICB9XG5cbiAgICBjb21wbGV0ZUN1c3RvbU1pc3Npb25BY3Rpb24oZ3VpZEluc3RhbmNlSWQ6IEJ1ZmZlcikge1xuICAgICAgICBpZiAoZ3VpZEluc3RhbmNlSWQubGVuZ3RoICE9PSAxNikgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkd1aWRJbnZhbGlkU2l6ZSk7IC8vICROT04tTkxTLTEkXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlKGd1aWRJbnN0YW5jZUlkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDJmKTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICByZXF1ZXN0UmVzcG9uc2VUaW1lcyhuQ291bnQ6IG51bWJlcikge1xuICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgc2ltY29ubmVjdCBmdW5jdGlvblxuICAgICAgICAvLyB0aGlzIG9uZSBuZWVkcyBzcGVjaWFsIGNhcmU6IGl0IHNlbmQgYSBwYWNrZXQgKGlkIDB4MDMsIG9uZSBwYXJhbSA6IG5Db3VudClcbiAgICAgICAgLy8gYW5kIHJlY2VpdmUgOCBmbG9hdCBkYXRhICh3aXRoIHJlc3BvbnNlIGlkIDB4MDAwMTAwMDEpIC4gU29tZSBjYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gaGFzIHRvIGJlIGRvbmVcbiAgICAgICAgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLlVuaW1wbGVtZW50ZWQpO1xuICAgIH1cblxuICAgIGNhbWVyYVNldFJlbGF0aXZlNkRPRihcbiAgICAgICAgZGVsdGFYOiBudW1iZXIsXG4gICAgICAgIGRlbHRhWTogbnVtYmVyLFxuICAgICAgICBkZWx0YVo6IG51bWJlcixcbiAgICAgICAgcGl0Y2hEZWc6IG51bWJlcixcbiAgICAgICAgYmFua0RlZzogbnVtYmVyLFxuICAgICAgICBoZWFkaW5nRGVnOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChkZWx0YVgpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KGRlbHRhWSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoZGVsdGFaKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChwaXRjaERlZyk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoYmFua0RlZyk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlRmxvYXQoaGVhZGluZ0RlZyk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIG1lbnVBZGRJdGVtKG1lbnVJdGVtOiBzdHJpbmcsIG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkLCBkYXRhOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcobWVudUl0ZW0sIDI1Nik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1lbnVFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YSk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIG1lbnVEZWxldGVJdGVtKG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1lbnVFdmVudElkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDMyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgbWVudUFkZFN1Ykl0ZW0oXG4gICAgICAgIG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkLFxuICAgICAgICBtZW51SXRlbTogc3RyaW5nLFxuICAgICAgICBzdWJNZW51RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcbiAgICAgICAgZGF0YTogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1lbnVFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcobWVudUl0ZW0sIDI1Nik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHN1Yk1lbnVFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YSk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzMyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgTVNGUyAoS2l0dHlIYXdrKVxuICAgICAqL1xuICAgIG1lbnVEZWxldGVTdWJJdGVtKG1lbnVFdmVudElkOiBDbGllbnRFdmVudElkLCBzdWJNZW51RXZlbnRJZDogQ2xpZW50RXZlbnRJZCkge1xuICAgICAgICAvLyBwYWNrZXQgc2l6ZSAweDE4XG4gICAgICAgIC8vIHBhY2tldCBpZCAweDM0XG5cbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQobWVudUV2ZW50SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChzdWJNZW51RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzNCk7XG4gICAgfVxuXG4gICAgbWFwQ2xpZW50RGF0YU5hbWVUb0lEKGNsaWVudERhdGFOYW1lOiBzdHJpbmcsIGNsaWVudERhdGFJZDogQ2xpZW50RGF0YUlkKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKGNsaWVudERhdGFOYW1lLCAyNTYpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnREYXRhSWQpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MzcpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNsaWVudERhdGEoY2xpZW50RGF0YUlkOiBDbGllbnREYXRhSWQsIHNpemU6IG51bWJlciwgcmVhZE9ubHk6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RGF0YUlkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoc2l6ZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHJlYWRPbmx5ID8gMSA6IDApO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MzgpO1xuICAgIH1cblxuICAgIGFkZFRvQ2xpZW50RGF0YURlZmluaXRpb24oXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXG4gICAgICAgIG9mZnNldDogbnVtYmVyLFxuICAgICAgICBzaXplT3JUeXBlOiBudW1iZXIsXG4gICAgICAgIGVwc2lsb24/OiBudW1iZXIsXG4gICAgICAgIGRhdHVtSWQ/OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxuXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFEZWZpbml0aW9uSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChvZmZzZXQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChzaXplT3JUeXBlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdChlcHNpbG9uIHx8IDApO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXR1bUlkIHx8IDApO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4MzkpO1xuICAgIH1cblxuICAgIGNsZWFyQ2xpZW50RGF0YURlZmluaXRpb24oZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCkge1xuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhRGVmaW5pdGlvbklkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDNhKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Q2xpZW50RGF0YTxPIGV4dGVuZHMgbnVtYmVyLCBJIGV4dGVuZHMgbnVtYmVyLCBMIGV4dGVuZHMgbnVtYmVyPihcbiAgICAgICAgY2xpZW50RGF0YUlkOiBDbGllbnREYXRhSWQsXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsXG4gICAgICAgIGNsaWVudERhdGFEZWZpbmVJRDogQ2xpZW50RGF0YURlZmluaXRpb25JZCxcbiAgICAgICAgcGVyaW9kOiBDbGllbnREYXRhUGVyaW9kLFxuICAgICAgICBmbGFnczogQ2xpZW50RGF0YVJlcXVlc3RGbGFnLFxuICAgICAgICBvcmlnaW4/OiBPLFxuICAgICAgICBpbnRlcnZhbD86IEksXG4gICAgICAgIGxpbWl0PzogTFxuICAgICkge1xuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXG5cbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RGF0YUlkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YVJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGNsaWVudERhdGFEZWZpbmVJRCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHBlcmlvZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGZsYWdzKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQob3JpZ2luIHx8IDApO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChpbnRlcnZhbCB8fCAwKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQobGltaXQgfHwgMCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzYik7XG4gICAgfVxuXG4gICAgc2V0Q2xpZW50RGF0YShcbiAgICAgICAgY2xpZW50RGF0YUlkOiBDbGllbnREYXRhSWQsXG4gICAgICAgIGNsaWVudERhdGFEZWZpbmVJRDogQ2xpZW50RGF0YURlZmluaXRpb25JZCxcbiAgICAgICAgcmVzZXJ2ZWQ6IG51bWJlcixcbiAgICAgICAgYXJyYXlDb3VudDogbnVtYmVyLFxuICAgICAgICB1bml0U2l6ZTogbnVtYmVyLFxuICAgICAgICBkYXRhOiBCdWZmZXJcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RGF0YUlkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RGF0YURlZmluZUlEKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoMCk7IC8vIGRvIG5vdCB1c2UgYXJnXG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KDEpOyAvLyBkbyBub3QgdXNlIGFyZ1xuICAgICAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgYXJyYXlzIGh0dHBzOi8vZ2l0aHViLmNvbS9taGFyai9qc2ltY29ubmVjdC9ibG9iL21hc3Rlci9zcmMvZmxpZ2h0c2ltL3NpbWNvbm5lY3QvU2ltQ29ubmVjdC5qYXZhI0wzODAzXG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHVuaXRTaXplKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGUoZGF0YSk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzYyk7XG4gICAgfVxuXG4gICAgZmxpZ2h0TG9hZChmaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIHBhY2tldCBzaXplIDB4MTE0XG4gICAgICAgIC8vIHBhY2tldCBpZCAweDNEXG5cbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoZmlsZU5hbWUsIFNpbUNvbm5lY3RDb25zdGFudHMuTUFYX1BBVEgpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4M2QpO1xuICAgIH1cblxuICAgIGZsaWdodFNhdmUoXG4gICAgICAgIGZpbGVOYW1lOiBzdHJpbmcsXG4gICAgICAgIHRpdGxlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICAgICBmbGFncz86IG51bWJlciAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgKSB7XG4gICAgICAgIC8vIHBhY2tldCBzaXplIDB4OTE4IChTUDEpLCAweEExQyAoU1AyKVxuICAgICAgICAvLyBwYWNrZXQgaWQgMHgzRVxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhmaWxlTmFtZSwgU2ltQ29ubmVjdENvbnN0YW50cy5NQVhfUEFUSCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sID49IFByb3RvY29sLkZTWF9TUDIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKFxuICAgICAgICAgICAgICAgIHRpdGxlID09PSBudWxsID8gZmlsZU5hbWUgOiB0aXRsZSxcbiAgICAgICAgICAgICAgICBTaW1Db25uZWN0Q29uc3RhbnRzLk1BWF9QQVRIXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoZGVzY3JpcHRpb24sIDIwNDgpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChTaW1Db25uZWN0Q29uc3RhbnRzLlVOVVNFRCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHgzZSk7XG4gICAgfVxuXG4gICAgZmxpZ2h0UGxhbkxvYWQoZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICAvLyBwYWNrZXQgc2l6ZSAweDExNFxuICAgICAgICAvLyBwYWNrZXQgaWQgMHgzRlxuXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKGZpbGVOYW1lLCBTaW1Db25uZWN0Q29uc3RhbnRzLk1BWF9QQVRIKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDNmKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgdGV4dCh0eXBlOiBUZXh0VHlwZSwgdGltZVNlY29uZHM6IG51bWJlciwgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLkZTWF9TUDEpIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcblxuICAgICAgICAvLyBwYWNrZXQgaWQgMHg0MFxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVGbG9hdCh0aW1lU2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGNsaWVudEV2ZW50SWQpO1xuICAgICAgICBpZiAobWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG1lc3NhZ2UubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlQnl0ZSgwKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDQwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBNU0ZTIChLaXR0eUhhd2spXG4gICAgICovXG4gICAgbWVudShcbiAgICAgICAgdGltZVNlY29uZHM6IG51bWJlcixcbiAgICAgICAgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcbiAgICAgICAgdGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIHByb21wdD86IHN0cmluZyxcbiAgICAgICAgLi4uaXRlbXM6IHN0cmluZ1tdXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLkZTWF9TUDEpIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcblxuICAgICAgICAvLyBwYWNrZXQgaWQgMHg0MFxuXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KFRleHRUeXBlLk1FTlUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUZsb2F0KHRpbWVTZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KDApOyAvLyBzaXplLCB3aWxsIGJlIHNldCBsYXRlclxuICAgICAgICBpZiAoIXRpdGxlICYmICFwcm9tcHQgJiYgaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUJ5dGUoMCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGl0bGUgJiYgcHJvbXB0KSB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyh0aXRsZSk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUJ5dGUoMCk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhwcm9tcHQpO1xuICAgICAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVCeXRlKDApO1xuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUJ5dGUoMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgc2l6ZVxuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0aGlzLl93cml0ZUJ1ZmZlci5nZXRPZmZzZXQoKSAtIDMyLCAyOCk7XG5cbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDQwKTtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVUb0ZhY2lsaXRpZXModHlwZTogRmFjaWxpdHlMaXN0VHlwZSwgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCkge1xuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXG5cbiAgICAgICAgLy8gSUQgMHg0MVxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0MSk7XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlVG9GYWNpbGl0aWVzRXgxKFxuICAgICAgICB0eXBlOiBGYWNpbGl0eUxpc3RUeXBlLFxuICAgICAgICBuZXdFbGVtSW5SYW5nZVJlcXVlc3RJRDogRGF0YVJlcXVlc3RJZCxcbiAgICAgICAgb2xkRWxlbU91dFJhbmdlUmVxdWVzdElEOiBEYXRhUmVxdWVzdElkXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLktpdHR5SGF3aykgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxuXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHR5cGUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChuZXdFbGVtSW5SYW5nZVJlcXVlc3RJRCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KG9sZEVsZW1PdXRSYW5nZVJlcXVlc3RJRCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0Nyk7XG4gICAgfVxuXG4gICAgdW5TdWJzY3JpYmVUb0ZhY2lsaXRpZXModHlwZTogRmFjaWxpdHlMaXN0VHlwZSkge1xuICAgICAgICBpZiAodGhpcy5fb3VyUHJvdG9jb2wgPCBQcm90b2NvbC5GU1hfU1AxKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXG5cbiAgICAgICAgLy8gSUQgMHg0MlxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDQyKTtcbiAgICB9XG5cbiAgICB1blN1YnNjcmliZVRvRmFjaWxpdGllc0V4MShcbiAgICAgICAgdHlwZTogRmFjaWxpdHlMaXN0VHlwZSxcbiAgICAgICAgdW5zdWJzY3JpYmVOZXdJblJhbmdlOiBib29sZWFuLFxuICAgICAgICB1bnN1YnNjcmliZU9sZE91dFJhbmdlOiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLl9vdXJQcm90b2NvbCA8IFByb3RvY29sLkZTWF9TUDEpIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5CYWRWZXJzaW9uKTsgLy8gJE5PTi1OTFMtMSRcblxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcodW5zdWJzY3JpYmVOZXdJblJhbmdlID8gJzEnIDogJzAnLCAxKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcodW5zdWJzY3JpYmVPbGRPdXRSYW5nZSA/ICcxJyA6ICcwJywgMSk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0OCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdEZhY2lsaXRpZXNMaXN0KHR5cGU6IEZhY2lsaXR5TGlzdFR5cGUsIGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuRlNYX1NQMSkgdGhyb3cgRXJyb3IoU2ltQ29ubmVjdEVycm9yLkJhZFZlcnNpb24pOyAvLyAkTk9OLU5MUy0xJFxuICAgICAgICB0aGlzLl9yZXNldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0eXBlKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoY2xpZW50RXZlbnRJZCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0Myk7XG4gICAgfVxuXG4gICAgcmVxdWVzdEZhY2lsaXRpZXNMaXN0RXgxKHR5cGU6IEZhY2lsaXR5TGlzdFR5cGUsIGNsaWVudEV2ZW50SWQ6IENsaWVudEV2ZW50SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuS2l0dHlIYXdrKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7IC8vICROT04tTkxTLTEkXG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHR5cGUpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnRFdmVudElkKTtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDQ5KTtcbiAgICB9XG5cbiAgICB0cmFuc21pdENsaWVudEV2ZW50RXgoXG4gICAgICAgIG9iamVjdElkOiBPYmplY3RJZCxcbiAgICAgICAgY2xpZW50RXZlbnRJZDogQ2xpZW50RXZlbnRJZCxcbiAgICAgICAgbm90aWZpY2F0aW9uR3JvdXBJZDogTm90aWZpY2F0aW9uR3JvdXBJZCxcbiAgICAgICAgZmxhZ3M6IEV2ZW50RmxhZyxcbiAgICAgICAgZGF0YTAgPSAwLFxuICAgICAgICBkYXRhMSA9IDAsXG4gICAgICAgIGRhdGEyID0gMCxcbiAgICAgICAgZGF0YTMgPSAwLFxuICAgICAgICBkYXRhNCA9IDBcbiAgICApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQob2JqZWN0SWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChjbGllbnRFdmVudElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQobm90aWZpY2F0aW9uR3JvdXBJZCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGZsYWdzKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YTApO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhMSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGEyKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoZGF0YTMpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhNCk7XG4gICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0NCk7XG4gICAgfVxuXG4gICAgYWRkVG9GYWNpbGl0eURlZmluaXRpb24oZGF0YURlZmluaXRpb25JZDogRGF0YURlZmluaXRpb25JZCwgZmllbGROYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuS2l0dHlIYXdrKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFEZWZpbml0aW9uSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZzI1NihmaWVsZE5hbWUpO1xuICAgICAgICB0aGlzLl9zZW5kUGFja2V0KDB4NDUpO1xuICAgIH1cblxuICAgIHJlcXVlc3RGYWNpbGl0eURhdGEoXG4gICAgICAgIGRhdGFEZWZpbml0aW9uSWQ6IERhdGFEZWZpbml0aW9uSWQsXG4gICAgICAgIGRhdGFSZXF1ZXN0SWQ6IERhdGFSZXF1ZXN0SWQsXG4gICAgICAgIGljYW86IHN0cmluZyxcbiAgICAgICAgcmVnaW9uPzogc3RyaW5nLFxuICAgICAgICB0eXBlPzogSWNhb1R5cGVcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuX291clByb3RvY29sIDwgUHJvdG9jb2wuS2l0dHlIYXdrKSB0aHJvdyBFcnJvcihTaW1Db25uZWN0RXJyb3IuQmFkVmVyc2lvbik7XG4gICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KGRhdGFEZWZpbml0aW9uSWQpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludChkYXRhUmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcoaWNhbywgMTYpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyhyZWdpb24gfHwgJycsIDQpO1xuICAgICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBTaW1Db25uZWN0X1JlcXVlc3RGYWNpbGl0eURhdGFcbiAgICAgICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0Nik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW1Db25uZWN0X1JlcXVlc3RGYWNpbGl0eURhdGFfRVgxXG4gICAgICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZVN0cmluZyh0eXBlLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRQYWNrZXQoMHg0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wZW5UaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fb3BlblRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fb3BlblRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsaWVudFNvY2tldC5jbG9zZSgpO1xuICAgIH1cblxuICAgIGdldExhc3RTZW50UGFja2V0SUQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWNrZXRzU2VudCAtIDE7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaGFuZGxlTWVzc2FnZSh7IHBhY2tldFR5cGVJZCwgZGF0YSB9OiBTaW1Db25uZWN0TWVzc2FnZSkge1xuICAgICAgICBpZiAoIShwYWNrZXRUeXBlSWQgaW4gUmVjdklEKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gcGFja2V0IHR5cGUgaWQnLCBwYWNrZXRUeXBlSWQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChwYWNrZXRUeXBlSWQpIHtcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX05VTEw6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FWENFUFRJT046XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdleGNlcHRpb24nLCBuZXcgUmVjdkV4Y2VwdGlvbihkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9PUEVOOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcGVuVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fb3BlblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcGVuVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnb3BlbicsIG5ldyBSZWN2T3BlbihkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9RVUlUOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgncXVpdCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudCcsIG5ldyBSZWN2RXZlbnQoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfT0JKRUNUX0FERFJFTU9WRTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50QWRkUmVtb3ZlJywgbmV3IFJlY3ZFdmVudEFkZFJlbW92ZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FVkVOVF9GSUxFTkFNRTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50RmlsZW5hbWUnLCBuZXcgUmVjdkV2ZW50RmlsZW5hbWUoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfRlJBTUU6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudEZyYW1lJywgbmV3IFJlY3ZFdmVudEZyYW1lKGRhdGEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1NJTU9CSkVDVF9EQVRBOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnc2ltT2JqZWN0RGF0YScsIG5ldyBSZWN2U2ltT2JqZWN0RGF0YShkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9TSU1PQkpFQ1RfREFUQV9CWVRZUEU6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdzaW1PYmplY3REYXRhQnlUeXBlJywgbmV3IFJlY3ZTaW1PYmplY3REYXRhKGRhdGEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1dFQVRIRVJfT0JTRVJWQVRJT046XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd3ZWF0aGVyT2JzZXJ2YXRpb24nLCBuZXcgUmVjdldlYXRoZXJPYnNlcnZhdGlvbihkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9DTE9VRF9TVEFURTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nsb3VkU3RhdGUnLCBuZXcgUmVjdkNsb3VkU3RhdGUoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfQVNTSUdORURfT0JKRUNUX0lEOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXNzaWduZWRPYmplY3RJRCcsIG5ldyBSZWN2QXNzaWduZWRPYmplY3RJRChkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9SRVNFUlZFRF9LRVk6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdyZXNlcnZlZEtleScsIG5ldyBSZWN2UmVzZXJ2ZWRLZXkoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfQ1VTVE9NX0FDVElPTjpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2N1c3RvbUFjdGlvbicsIG5ldyBSZWN2Q3VzdG9tQWN0aW9uKGRhdGEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX1NZU1RFTV9TVEFURTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3N5c3RlbVN0YXRlJywgbmV3IFJlY3ZTeXN0ZW1TdGF0ZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9DTElFTlRfREFUQTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2NsaWVudERhdGEnLCBuZXcgUmVjdlNpbU9iamVjdERhdGEoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfV0VBVEhFUl9NT0RFOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXZlbnRXZWF0aGVyTW9kZScsIG5ldyBSZWN2RXZlbnRXZWF0aGVyTW9kZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9BSVJQT1JUX0xJU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhaXJwb3J0TGlzdCcsIG5ldyBSZWN2QWlycG9ydExpc3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfVk9SX0xJU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd2b3JMaXN0JywgbmV3IFJlY3ZWT1JMaXN0KGRhdGEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX05EQl9MSVNUOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbmRiTGlzdCcsIG5ldyBSZWN2TkRCTGlzdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9XQVlQT0lOVF9MSVNUOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnd2F5cG9pbnRMaXN0JywgbmV3IFJlY3ZXYXlwb2ludExpc3QoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfU0VSVkVSX1NUQVJURUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudE11bHRpcGxheWVyU2VydmVyU3RhcnRlZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfQ0xJRU5UX1NUQVJURUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudE11bHRpcGxheWVyQ2xpZW50U3RhcnRlZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfTVVMVElQTEFZRVJfU0VTU0lPTl9FTkRFRDpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2V2ZW50TXVsdGlwbGF5ZXJTZXNzaW9uRW5kZWQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX0VWRU5UX1JBQ0VfRU5EOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXZlbnRSYWNlRW5kJywgbmV3IFJlY3ZFdmVudFJhY2VFbmQoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRVZFTlRfUkFDRV9MQVA6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudFJhY2VMYXAnLCBuZXcgUmVjdkV2ZW50UmFjZUxhcChkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlY3ZJRC5JRF9FVkVOVF9FWDE6XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdldmVudEV4MScsIG5ldyBSZWN2RXZlbnRFeDEoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRkFDSUxJVFlfREFUQTpcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2ZhY2lsaXR5RGF0YScsIG5ldyBSZWN2RmFjaWxpdHlEYXRhKGRhdGEpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVjdklELklEX0ZBQ0lMSVRZX0RBVEFfRU5EOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZmFjaWxpdHlEYXRhRW5kJywgbmV3IFJlY3ZGYWNpbGl0eURhdGFFbmQoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWN2SUQuSURfRkFDSUxJVFlfTUlOSU1BTF9MSVNUOlxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZmFjaWxpdHlNaW5pbWFsTGlzdCcsIG5ldyBSZWN2RmFjaWxpdHlNaW5pbWFsTGlzdChkYXRhKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZXNldEJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIuc2V0T2Zmc2V0KDE2KTsgLy8gQnl0ZXMgMC0xNiBhcmUgZm9yIHRoZSBwYWNrZXQgaGVhZGVyXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2VuZFBhY2tldCh0eXBlOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcGFja2V0U2l6ZSA9IHRoaXMuX3dyaXRlQnVmZmVyLmdldE9mZnNldCgpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgYnl0ZSAwLTE2IHdpdGggcGFja2FnZSBoZWFkZXJcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQocGFja2V0U2l6ZSwgMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHRoaXMuX291clByb3RvY29sLCA0KTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQoMHhmMDAwMDAwMCB8IHR5cGUsIDgpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh0aGlzLl9wYWNrZXRzU2VudCsrLCAxMik7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX3dyaXRlQnVmZmVyLmdldEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl9jbGllbnRTb2NrZXQud3JpdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfb3BlbigpIHtcbiAgICAgICAgdGhpcy5fb3BlblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBFcnJvcignT3BlbiB0aW1lb3V0JykpO1xuICAgICAgICB9LCA1MDAwKTtcblxuICAgICAgICBjb25zdCB2ZXJzaW9uID0gb3BlblBhY2tldERhdGFbdGhpcy5fb3VyUHJvdG9jb2xdO1xuICAgICAgICBpZiAoIXZlcnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFNpbUNvbm5lY3RFcnJvci5JbnZhbGlkUHJvdG9jb2wpOyAvLyAkTk9OLU5MUy0xJFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVTdHJpbmcyNTYodGhpcy5fYXBwTmFtZSk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KDApO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUJ5dGUoMHgwMCk7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3RyaW5nKHZlcnNpb24uYWxpYXMsIDMpO1xuICAgICAgICB0aGlzLl93cml0ZUJ1ZmZlci53cml0ZUludCh2ZXJzaW9uLm1ham9yKTtcbiAgICAgICAgdGhpcy5fd3JpdGVCdWZmZXIud3JpdGVJbnQodmVyc2lvbi5taW5vcik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHZlcnNpb24uYnVpbGRNYWpvcik7XG4gICAgICAgIHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlSW50KHZlcnNpb24uYnVpbGRNaW5vcik7XG5cbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldCgweDAxKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFNpbUNvbm5lY3RDb25uZWN0aW9uLCBDb25uZWN0aW9uT3B0aW9ucywgU2ltQ29ubmVjdFJlY3ZFdmVudHMgfTtcbm1vZHVsZS5leHBvcnRzID0geyBTaW1Db25uZWN0Q29ubmVjdGlvbiB9O1xuIl19
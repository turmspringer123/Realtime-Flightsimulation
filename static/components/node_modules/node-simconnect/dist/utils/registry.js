"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readRegistryValue = void 0;
// @ts-ignore // eslint-disable-line
const regedit = require("regedit");
function readRegistryValue(FS_KEY, subKey) {
    return new Promise((resolve, reject) => {
        // eslint-disable-next-line
        regedit.list(FS_KEY, (err, result) => {
            if (err) {
                reject(new Error(`Failed to read registry value ${FS_KEY} (${err})`));
            }
            else {
                resolve(result[FS_KEY].values[subKey].value);
            }
        });
    });
}
exports.readRegistryValue = readRegistryValue;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvcmVnaXN0cnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0NBQW9DO0FBQ3BDLG1DQUFvQztBQUVwQyxTQUFnQixpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsTUFBYztJQUM1RCxPQUFPLElBQUksT0FBTyxDQUFTLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQzNDLDJCQUEyQjtRQUMzQixPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQVEsRUFBRSxNQUFXLEVBQUUsRUFBRTtZQUMzQyxJQUFJLEdBQUcsRUFBRTtnQkFDTCxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsaUNBQWlDLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDekU7aUJBQU07Z0JBQ0gsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDaEQ7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQVhELDhDQVdDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLWlnbm9yZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5pbXBvcnQgcmVnZWRpdCA9IHJlcXVpcmUoJ3JlZ2VkaXQnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRSZWdpc3RyeVZhbHVlKEZTX0tFWTogc3RyaW5nLCBzdWJLZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgcmVnZWRpdC5saXN0KEZTX0tFWSwgKGVycjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byByZWFkIHJlZ2lzdHJ5IHZhbHVlICR7RlNfS0VZfSAoJHtlcnJ9KWApKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRbRlNfS0VZXS52YWx1ZXNbc3ViS2V5XS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIl19